<!DOCTYPE html>
<html lang="en"><head>
<script src="4_summarizing_and_transforming_files/libs/clipboard/clipboard.min.js"></script>
<script src="4_summarizing_and_transforming_files/libs/quarto-html/tabby.min.js"></script>
<script src="4_summarizing_and_transforming_files/libs/quarto-html/popper.min.js"></script>
<script src="4_summarizing_and_transforming_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="4_summarizing_and_transforming_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="4_summarizing_and_transforming_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="4_summarizing_and_transforming_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<link href="4_summarizing_and_transforming_files/libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="4_summarizing_and_transforming_files/libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.2.335">

  <meta name="dcterms.date" content="2023-04-19">
  <title>Summarizing &amp; Transforming Data in R</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="4_summarizing_and_transforming_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="4_summarizing_and_transforming_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="4_summarizing_and_transforming_files/libs/revealjs/dist/theme/quarto.css" id="theme">
  <link href="4_summarizing_and_transforming_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="4_summarizing_and_transforming_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="4_summarizing_and_transforming_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="4_summarizing_and_transforming_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-captioned.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-captioned) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-captioned.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-captioned .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-captioned .callout-caption  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-captioned.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-captioned.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-caption {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-caption {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-caption {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-captioned .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-captioned .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-captioned) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-caption {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-caption {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-caption {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-caption {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-caption {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-image="figures/horst_tidydata.jpg" data-background-position="95% 85%" data-background-size="50%" class="center">

    <p class="absolute" style="top:0">Workshop: Dealing with Data in R</p>
  
    <p style="position:absolute;top:0;right:0;color:grey;font-size:60%;text-align:right">Illustration from the Openscapes blog Tidy Data for<br>reproducibility, efficiency, and collaboration by Julia Lowndes and Allison Horst</p>
  
  <h1 class="title" style="padding-top: 150px;">Summarizing &amp; Transforming Data in R</h1>
    <h3 class="subtitle" style="padding-top:5px;"><strong>Saving you time and sanity</strong></h3>
  
    <p style="font-size:70%; padding-top: 120px">
    <i class="fa-brands fa-github"></i> <a href="https://github.com/steffilazerte">steffilazerte</a><br>
    <i class="fa-brands fa-mastodon"></i> <a href="https://fosstodon.org/@steffilazerte">@steffilazerte@fosstodon.org</a><br>
    <i class="fa-brands fa-twitter"></i> <a href="https://twitter.com/steffilazerte">@steffilazerte</a><br>
    <i class="fa-solid fa-globe"></i> <a href="https://steffilazerte.ca">steffilazerte.ca</a><br>
    <img src="figures/steffi_logo.png" width="30%">
  </p>
  
  
  
    <p class="date">Compiled: 2023-04-19</p>
  </section>
<section>
<section id="first-things-first" class="title-slide slide level1 center">
<h1>First things first</h1>
<div style="text-align:left; padding: 15px 200px 15px 200px">
<p><i class="fa-solid fa-floppy-disk" aria-label="floppy-disk"></i> Save previous script</p>
<p><i class="fa-solid fa-folder-open" aria-label="folder-open"></i> Open New File <br> <span class="small hang">(make sure you’re in the RStudio Project)</span></p>
<p><i class="fa-solid fa-pen" aria-label="pen"></i> Write <code>library(tidyverse)</code> at the top</p>
<p><i class="fa-solid fa-floppy-disk" aria-label="floppy-disk"></i> Save this new script <br> <span class="small hang">(consider names like <code>summarizing.R</code> or <code>4_sum_and_trans.R</code>)</span></p>
</div>
</section>
<section id="types-of-modifications" class="slide level2">
<h2>Types of Modifications</h2>
<div class="columns">
<div class="column">
<h3 id="subset">1. <strong>Subset</strong></h3>
<ul>
<li><code>filter()</code> observations (rows)</li>
<li><code>select()</code> variables (columns)</li>
</ul>
<h3 id="joining-data-sets">2. <strong>Joining data sets</strong></h3>
<ul>
<li><code>left_join()</code>, <code>right_join()</code>, etc.</li>
</ul>
<h3 id="creating-new-columns">3. <strong>Creating new columns</strong></h3>
<ul>
<li>Creating categories</li>
<li>Column calculations</li>
<li>By group</li>
<li><code>mutate()</code> and <code>group_by()</code></li>
</ul>
</div><div class="column">
<h3 id="summarize-existing-columns">4. <strong>Summarize existing columns</strong></h3>
<ul>
<li>Summarizing by group</li>
<li><code>summarize()</code> and <code>group_by()</code></li>
</ul>
<h3 id="transpose">5. <strong>Transpose</strong></h3>
<ul>
<li>Going between <strong>wide</strong> and <strong>long</strong> data formats
<ul>
<li><code>pivot_wider()</code> and <code>pivot_longer()</code></li>
</ul></li>
<li>Transposing for analysis</li>
<li>Transposing for visualizations</li>
</ul>
</div>
</div>
</section>
<section id="getting-ready" class="slide level2">
<h2>Getting ready</h2>
<div class="columns">
<div class="column">
<h3 id="check-out-the-data">Check out the data:</h3>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-1_3f38adff23fa16bd060a6a887fd545c5">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2"></a>size <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/grain_size2.csv"</span>)</span>
<span id="cb1-3"><a href="#cb1-3"></a>size</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column">
<h3 id="using-data-sets">Using data sets:</h3>
<ul>
<li><a href="https://steffilazerte.ca/workshop-dealing-with-data/data/grain_size2.csv">grain_size2.csv</a></li>
<li><a href="https://steffilazerte.ca/workshop-dealing-with-data/data/grain_meta.csv">grain_meta.csv</a></li>
</ul>
</div>
</div>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-2_e597be05b2023e4c7e7b96bdd3f5aef0">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 114 × 9
   plot  depth coarse_sand medium_sand fine_sand coarse_silt medium_silt fine_silt  clay
   &lt;chr&gt; &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt; &lt;dbl&gt;
 1 CSP01     4       13.0        17.4      19.7        14.1        11.2       8.17  16.3
 2 CSP01    12       10.7        16.9      19.2        14.1        11.7       9.03  18.4
 3 CSP01    35       12.1        17.8      16.1        10.3         9.51      7.47  26.7
 4 CSP01    53       17.6        18.2      14.3         9.4         9.1       8.7   22.7
 5 CSP01    83       21.0        18.4      14.3         9.79        8.79      7.29  20.4
 6 CSP01   105       19.0        18.4      14.4        10.8         9.4       8.22  19.7
 7 CSP08    10       11.6        17.1      20.8        16.3         9.55      6.23  18.4
 8 CSP08    27       15.4        16.2      17.8        14.3        10.4       6.1   19.6
 9 CSP08    90       14.9        15.8      18.6        15.1        11.5       7.56  16.5
10 CSP02     5        8.75        8.64      8.66       12.0        18.3      15.2   28.5
# ℹ 104 more rows</code></pre>
</div>
</div>
</section></section>
<section>
<section id="subsetting" class="title-slide slide level1 center">
<h1>Subsetting</h1>
<p><span class="large">By rows and column</span></p>
</section>
<section id="filter-observations" class="slide level2">
<h2><code>filter()</code> observations</h2>
<h3 class="spacer" id="filter-is-from-dplyr"><code>filter()</code> is from <code>dplyr</code>*</h3>
<p><span class="footnote">* part of the <code>tidyverse</code></span></p>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-3_dca60d80448237cfab2c1eb97223597d">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="fu">filter</span>(data, expression1, expression2, etc.)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="spacer">
<ul>
<li><code>tidyverse</code> functions always start with data</li>
<li>Column <code>expression</code>s reference actual columns in data</li>
<li>Here we use logical statements relating to column values</li>
</ul>
</div>
<p><img data-src="figures/hex_dplyr.png" class="absolute" style="top: 0px; right: 0px; width: 20%; "></p>
</section>
<section id="filter-observations-1" class="slide level2">
<h2><code>filter()</code> observations</h2>
<h3 class="spacer" id="filter-by-category"><code>filter()</code> by category</h3>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-4_b598b23bf1f529079a5f892cffb13662">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="fu">filter</span>(size, plot <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"CSP11"</span>, <span class="st">"CSP13"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 9
  plot  depth coarse_sand medium_sand fine_sand coarse_silt medium_silt fine_silt  clay
  &lt;chr&gt; &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt; &lt;dbl&gt;
1 CSP13     2       22.1        17.5      18.3        11.9         7.92      6.05  16.3
2 CSP13    10       12.1        14.9      18          13.1        10.4       7.92  23.6
3 CSP13    25       13.7        12.7      14.3        11.7         9.67      6.31  31.6
4 CSP13    60       27.1         9.74     11.1         9.69        9.79      7.82  24.8
5 CSP13   140       10.4        15.3      16.0        12.4        12.4      10.2   23.5
6 CSP11    20        6.67        3.94      5.52       23.7        23        14.8   22.3
7 CSP11    30        5.27        4.23      6.11       23.6        23.9      15.3   21.6
8 CSP11    47        4.34        4.03      6.62       24.5        25.5      13.8   21.3
9 CSP11   143        5.28        4.26      7.07       22.8        28.0      12.4   20.2</code></pre>
</div>
</div>
<p><img data-src="figures/hex_dplyr.png" class="absolute" style="top: 0px; right: 0px; width: 20%; "></p>
<div class="fragment">
<p><strong>Note</strong>: To save this as a separate object, don’t forget assignments:</p>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-5_df9607171bb30154cfa99a6b20c9e780">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>size_sub <span class="ot">&lt;-</span> <span class="fu">filter</span>(size, plot <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"CSP11"</span>, <span class="st">"CSP13"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="filter-observations-2" class="slide level2">
<h2><code>filter()</code> observations</h2>
<h3 class="spacer" id="filter-by-measures"><code>filter()</code> by measures</h3>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-6_0a24237e498a5a27f9514914e9bca9f8">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="fu">filter</span>(size, depth <span class="sc">&gt;</span> <span class="dv">140</span> <span class="sc">|</span> depth <span class="sc">&lt;</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 9
  plot  depth coarse_sand medium_sand fine_sand coarse_silt medium_silt fine_silt  clay
  &lt;chr&gt; &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt; &lt;dbl&gt;
1 CSP13     2       22.1        17.5      18.3         11.9        7.92      6.05  16.3
2 CSP19   190        3.33        4.28     14.2         42.8       21.5       9.92   4  
3 CSP11   143        5.28        4.26      7.07        22.8       28.0      12.4   20.2
4 CSP14     3       16.1        15.0      17.5         12.2       12         9.88  17.3
5 CSP15   146       13.6        12.3      12.5         12.0       18.1      10.4   21.1
6 CSP20     3        5.12        5.09     17.9         25.9       14.3      11.8   19.9
7 CSP20   150       22.7        12.9      12.7         17.7       14.9       7.59  11.5
8 CSP21     3       14.1        11.6      11.9         14.1       15.5      10.4   22.4
9 CSP22   182       17.9        13.6      13.1         13.5       12.6       8.39  20.9</code></pre>
</div>
</div>
<p><img data-src="figures/hex_dplyr.png" class="absolute" style="top: 0px; right: 0px; width: 20%; "></p>
</section></section>
<section>
<section id="tangent" class="title-slide slide level1 center">
<h1>Tangent</h1>
<p><span class="large">Logical Operators</span></p>
</section>
<section id="logical-operators" class="slide level2">
<h2>Logical Operators</h2>
<div class="columns">
<div class="column">
<h3 id="possible-options">Possible options</h3>
<table>
<thead>
<tr class="header">
<th>Operator</th>
<th>Code</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>OR</td>
<td><code>|</code></td>
</tr>
<tr class="even">
<td>AND</td>
<td><code>&amp;</code></td>
</tr>
<tr class="odd">
<td>EQUAL</td>
<td><code>==</code></td>
</tr>
<tr class="even">
<td>NOT EQUAL</td>
<td><code>!=</code></td>
</tr>
<tr class="odd">
<td>NOT</td>
<td><code>!</code></td>
</tr>
<tr class="even">
<td>Greater than</td>
<td><code>&gt;</code></td>
</tr>
<tr class="odd">
<td>Less than</td>
<td><code>&lt;</code></td>
</tr>
<tr class="even">
<td>Greater than or equal to</td>
<td><code>&gt;=</code></td>
</tr>
<tr class="odd">
<td>Less than or equal to</td>
<td><code>&lt;=</code></td>
</tr>
<tr class="even">
<td>In</td>
<td><code>%in%</code></td>
</tr>
</tbody>
</table>
</div><div class="column">
<h3 id="single-comparisons">Single comparisons</h3>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-7_a5a51d651184c9b7264a0ad36986dd55">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="dv">1</span> <span class="sc">&lt;</span> <span class="dv">2</span></span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="dv">1</span> <span class="sc">!=</span> <span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<h3 id="multiple-comparisons">Multiple comparisons</h3>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-8_9bbeb81408c93c85a97b4fccb63cafe3">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="dv">1</span> <span class="sc">==</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="st">"apple"</span>)</span>
<span id="cb10-2"><a href="#cb10-2"></a><span class="dv">1</span> <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="st">"apple"</span>)</span>
<span id="cb10-3"><a href="#cb10-3"></a></span>
<span id="cb10-4"><a href="#cb10-4"></a><span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="st">"apple"</span>) <span class="sc">==</span> <span class="dv">1</span></span>
<span id="cb10-5"><a href="#cb10-5"></a><span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="st">"apple"</span>) <span class="sc">%in%</span> <span class="dv">1</span></span>
<span id="cb10-6"><a href="#cb10-6"></a></span>
<span id="cb10-7"><a href="#cb10-7"></a><span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="st">"apple"</span>) <span class="sc">==</span> <span class="dv">1</span> <span class="sc">|</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="st">"apple"</span>) <span class="sc">==</span> <span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<blockquote>
<p><strong>Your turn!</strong><br>
In each case, what are you asking?<br>Do you expect 1 or 4 values?</p>
</blockquote>
</div>
</div>
</section></section>
<section>
<section id="back-to-filtering" class="title-slide slide level1 center">
<h1>Back to <code>filter()</code>ing…</h1>

</section>
<section id="filter-observations-3" class="slide level2">
<h2><code>filter()</code> observations</h2>
<h3 id="which-values-are-greater-than-100-or-less-than-4">Which values are greater than 100 OR less than 4?</h3>
<div class="small">
<div class="cell" data-r.options="{&quot;width&quot;:115}" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-9_d6a33deb9631e76751037fb911d0a017">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>size<span class="sc">$</span>depth <span class="sc">&gt;</span> <span class="dv">140</span> <span class="sc">|</span> size<span class="sc">$</span>depth <span class="sc">&lt;</span> <span class="dv">4</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  [1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [19] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [37]  TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [55]  TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [73] FALSE FALSE FALSE FALSE FALSE FALSE FALSE  TRUE  TRUE FALSE FALSE FALSE FALSE  TRUE FALSE FALSE FALSE  TRUE
 [91] FALSE FALSE FALSE  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE  TRUE FALSE FALSE FALSE FALSE FALSE
[109] FALSE FALSE FALSE FALSE FALSE FALSE</code></pre>
</div>
</div>
</div>
<h3 id="return-only-rows-with-true">Return only rows with <code>TRUE</code></h3>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-10_8b74a550480514aa7f1ee341773da628">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="fu">filter</span>(size, depth <span class="sc">&gt;</span> <span class="dv">140</span> <span class="sc">|</span> depth <span class="sc">&lt;</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="filter-observations-4" class="slide level2">
<h2><code>filter()</code> observations</h2>
<h3 class="spacer" id="filter-by-a-combination-fa-arrow-right-use-comma"><code>filter()</code> by a combination <i class="fa-solid fa-arrow-right" aria-label="arrow-right"></i> use comma</h3>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-11_ee274c4b1166e07d0d41b07f936aa0b1">
<div class="sourceCode cell-code" id="cb14" data-code-line-numbers="2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="fu">filter</span>(size, </span>
<span id="cb14-2"><a href="#cb14-2"></a>       depth <span class="sc">&gt;</span> <span class="dv">100</span>,</span>
<span id="cb14-3"><a href="#cb14-3"></a>       plot <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"CSP11"</span>, <span class="st">"CSP13"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 9
  plot  depth coarse_sand medium_sand fine_sand coarse_silt medium_silt fine_silt  clay
  &lt;chr&gt; &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt; &lt;dbl&gt;
1 CSP13   140       10.4        15.3      16.0         12.4        12.4      10.2  23.5
2 CSP11   143        5.28        4.26      7.07        22.8        28.0      12.4  20.2</code></pre>
</div>
</div>
<h3 id="equivalent-fa-arrow-right-use">Equivalent <i class="fa-solid fa-arrow-right" aria-label="arrow-right"></i> use &amp;</h3>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-12_e582464da62dd376fc1b4f8f3c55464b">
<div class="sourceCode cell-code" id="cb16" data-code-line-numbers="2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="fu">filter</span>(size, </span>
<span id="cb16-2"><a href="#cb16-2"></a>       depth <span class="sc">&gt;</span> <span class="dv">100</span> <span class="sc">&amp;</span></span>
<span id="cb16-3"><a href="#cb16-3"></a>       plot <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"CSP11"</span>, <span class="st">"CSP13"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><span class="note absolute" style="left: 25%; bottom: 10%; ">Separate arguments in <code>filter()</code> act like <strong>&amp;</strong></span></p>
</section>
<section id="select-variables" class="slide level2">
<h2><code>select()</code> variables</h2>
<h3 class="spacer" id="select-is-from-dplyr"><code>select()</code> is from <code>dplyr</code>*</h3>
<p><span class="footnote">* part of the <code>tidyverse</code></span></p>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-13_7b234a603b9929064403a2ea2bdc0b9a">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="fu">select</span>(data, selection1, selection2, etc.)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="spacer">
<ul>
<li><code>tidyverse</code> functions always start with data</li>
<li>Specify columns to keep or remove</li>
<li>Column <code>selection</code>s reference actual columns in data</li>
</ul>
</div>
<p><img data-src="figures/hex_dplyr.png" class="absolute" style="top: 0px; right: 0px; width: 20%; "></p>
</section>
<section id="select-variables-1" class="slide level2">
<h2><code>select()</code> variables</h2>
<div class="columns spacer">
<div class="column">
<h3 id="select-by-name"><code>select()</code> by name</h3>
<div class="cell" data-r.options="{&quot;tibble.print_max&quot;:4,&quot;tibble.print_min&quot;:4}" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-14_6c2aceb6522a5bb3e8dce0b932b9412a">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a><span class="fu">select</span>(size, coarse_sand, medium_sand, fine_sand)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 114 × 3
  coarse_sand medium_sand fine_sand
        &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt;
1        13.0        17.4      19.7
2        10.7        16.9      19.2
3        12.1        17.8      16.1
4        17.6        18.2      14.3
# ℹ 110 more rows</code></pre>
</div>
</div>
</div><div class="column fragment">
<!-- -->
<h3 id="using-helper-functions">Using helper functions</h3>
<div class="cell" data-r.options="{&quot;tibble.print_max&quot;:4,&quot;tibble.print_min&quot;:4}" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-15_80c504a63c0db166f2a55c36505f0a55">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a><span class="fu">select</span>(size, <span class="fu">ends_with</span>(<span class="st">"sand"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 114 × 3
  coarse_sand medium_sand fine_sand
        &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt;
1        13.0        17.4      19.7
2        10.7        16.9      19.2
3        12.1        17.8      16.1
4        17.6        18.2      14.3
# ℹ 110 more rows</code></pre>
</div>
</div>
</div>
</div>
<div class="fragment">
<p><strong>Some other helper functions (<code>?select_helpers</code>):</strong></p>
<table>
<thead>
<tr class="header">
<th>Function</th>
<th>Usage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>starts_with()</code></td>
<td><code>starts_with("fine")</code></td>
</tr>
<tr class="even">
<td><code>contains()</code></td>
<td><code>contains("sand")</code></td>
</tr>
<tr class="odd">
<td><code>everything()</code></td>
<td>Useful for rearranging</td>
</tr>
<tr class="even">
<td><code>matches()</code></td>
<td>Uses regular expressions</td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="select-variables-2" class="slide level2">
<h2><code>select()</code> variables</h2>
<h3 id="put-it-all-together">Put it all together</h3>
<div class="columns">
<div class="column">
<h3 id="to-explore-the-data">To explore the data</h3>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-16_1370928550c930cd7211e7d783cd96c6">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a>size <span class="sc">|&gt;</span></span>
<span id="cb22-2"><a href="#cb22-2"></a>  <span class="fu">filter</span>(depth <span class="sc">&gt;</span> <span class="dv">100</span>, </span>
<span id="cb22-3"><a href="#cb22-3"></a>         plot <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"CSP13"</span>, <span class="st">"CSP25"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb22-4"><a href="#cb22-4"></a>  <span class="fu">select</span>(plot, depth, <span class="fu">ends_with</span>(<span class="st">"sand"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 5
  plot  depth coarse_sand medium_sand fine_sand
  &lt;chr&gt; &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt;
1 CSP13   140        10.4        15.3      16.0
2 CSP25   130        18.6        21.3      13.8</code></pre>
</div>
</div>
</div><div class="column fragment">
<!-- -->
<h3 id="to-save-as-a-separate-object">To save as a separate object</h3>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-17_d65b51dbec29ed369493a2c0bab2fae8">
<div class="sourceCode cell-code" id="cb24" data-code-line-numbers="1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a>size_sub_sand <span class="ot">&lt;-</span> size <span class="sc">|&gt;</span></span>
<span id="cb24-2"><a href="#cb24-2"></a>  <span class="fu">filter</span>(depth <span class="sc">&gt;</span> <span class="dv">100</span>, </span>
<span id="cb24-3"><a href="#cb24-3"></a>         plot <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"CSP13"</span>, <span class="st">"CSP25"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb24-4"><a href="#cb24-4"></a>  <span class="fu">select</span>(plot, depth, <span class="fu">ends_with</span>(<span class="st">"sand"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="your-turn-subsetting" class="slide level2">
<h2>Your turn: Subsetting</h2>
<ul>
<li>Subset the data to variables <strong>plot</strong>, <strong>depth</strong> and all measures of <strong>sand</strong></li>
<li>Keep only values where there is <strong><u>at least</u> 30% clay</strong></li>
</ul>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-18_49b01d6c199c413eb095972e1b21c704">
<div class="sourceCode cell-code" id="cb25" data-code-line-numbers="2-3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a>size <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/grain_size2.csv"</span>) <span class="sc">|&gt;</span></span>
<span id="cb25-2"><a href="#cb25-2"></a>  <span class="fu">filter</span>(???) <span class="sc">|&gt;</span></span>
<span id="cb25-3"><a href="#cb25-3"></a>  <span class="fu">select</span>(???)   </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><span class="note absolute" style="top: 20%; left: 80%; width: 20%; "><strong>Note:</strong><br>All particle values are percentages (depth is cm)</span></p>
<p><span class="note absolute" style="left: 50%; bottom: 10%; width: 60%; "><strong>Too Easy?</strong><br>What happens if you <code>select()</code> before you <code>filter()</code>?</span></p>
</section>
<section id="your-turn-subsetting-1" class="slide level2" data-visibility="visible">
<h2>Your turn: Subsetting</h2>
<ul>
<li>Subset the data to variables <strong>plot</strong>, <strong>depth</strong> and all measures of <strong>sand</strong></li>
<li>Keep only values where there is <strong><u>at least</u> 30% clay</strong></li>
</ul>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-19_a1b825104a57d2bf3341512534e20dbb">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a>size <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/grain_size2.csv"</span>) <span class="sc">|&gt;</span></span>
<span id="cb26-2"><a href="#cb26-2"></a>  <span class="fu">filter</span>(clay <span class="sc">&gt;=</span> <span class="dv">30</span>) <span class="sc">|&gt;</span></span>
<span id="cb26-3"><a href="#cb26-3"></a>  <span class="fu">select</span>(plot, depth, <span class="fu">ends_with</span>(<span class="st">"sand"</span>))</span>
<span id="cb26-4"><a href="#cb26-4"></a></span>
<span id="cb26-5"><a href="#cb26-5"></a><span class="fu">head</span>(size)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 5
  plot  depth coarse_sand medium_sand fine_sand
  &lt;chr&gt; &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt;
1 CSP02    36        8.15        9.24      8.55
2 CSP13    25       13.7        12.7      14.3 </code></pre>
</div>
</div>
<div class="fragment">
<p><strong>Select equivalents:</strong></p>
<ul>
<li><code>select(plot, depth, ends_with("sand"))</code></li>
<li><code>select(plot, depth, contains("sand"))</code></li>
<li><code>select(plot, depth, coarse_sand, medium_sand, fine_sand)</code></li>
<li><code>select(-coarse_silt, -medium_silt, -fine_silt, -clay)</code></li>
</ul>
</div>
</section>
<section id="your-turn-subsetting-too-easy" class="slide level2" data-visibility="visible">
<h2>Your turn: Subsetting (Too Easy?)</h2>
<p><strong>What happens if you <code>select()</code> before you <code>filter()</code>?</strong></p>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-20_18e2afc11b1c16ea68f5b1ba55c57765">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a>size <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/grain_size2.csv"</span>) <span class="sc">|&gt;</span></span>
<span id="cb28-2"><a href="#cb28-2"></a>  <span class="fu">select</span>(plot, depth, <span class="fu">ends_with</span>(<span class="st">"sand"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb28-3"><a href="#cb28-3"></a>  <span class="fu">filter</span>(clay <span class="sc">&gt;=</span> <span class="dv">30</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in `filter()`:
ℹ In argument: `clay &gt;= 30`.
Caused by error:
! object 'clay' not found</code></pre>
</div>
</div>
<ul>
<li>Lines are sequential</li>
<li>First <code>select()</code> removes column <code>clay</code></li>
<li>Then <code>filter()</code> cannot find <code>clay</code>
<ul>
<li><span class="small">(<code>object 'clay' not found</code>)</span></li>
</ul></li>
</ul>
</section></section>
<section>
<section id="joining-or-merging-data" class="title-slide slide level1 center">
<h1>Joining or Merging data</h1>

</section>
<section id="joining-data-sets-1" class="slide level2">
<h2>Joining data sets</h2>
<div class="columns">
<div class="column">
<h3 id="measurements">Measurements</h3>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-21_7b2c64e2ca9cd4d12300a915f5c4595a">
<div class="cell-output-display">

<div id="oihqopunws" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#oihqopunws .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#oihqopunws .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#oihqopunws .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#oihqopunws .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#oihqopunws .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#oihqopunws .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#oihqopunws .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#oihqopunws .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#oihqopunws .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#oihqopunws .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#oihqopunws .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#oihqopunws .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#oihqopunws .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#oihqopunws .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#oihqopunws .gt_from_md > :first-child {
  margin-top: 0;
}

#oihqopunws .gt_from_md > :last-child {
  margin-bottom: 0;
}

#oihqopunws .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#oihqopunws .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#oihqopunws .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#oihqopunws .gt_row_group_first td {
  border-top-width: 2px;
}

#oihqopunws .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#oihqopunws .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#oihqopunws .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#oihqopunws .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#oihqopunws .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#oihqopunws .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#oihqopunws .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#oihqopunws .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#oihqopunws .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#oihqopunws .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#oihqopunws .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#oihqopunws .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#oihqopunws .gt_left {
  text-align: left;
}

#oihqopunws .gt_center {
  text-align: center;
}

#oihqopunws .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#oihqopunws .gt_font_normal {
  font-weight: normal;
}

#oihqopunws .gt_font_bold {
  font-weight: bold;
}

#oihqopunws .gt_font_italic {
  font-style: italic;
}

#oihqopunws .gt_super {
  font-size: 65%;
}

#oihqopunws .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

#oihqopunws .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#oihqopunws .gt_indent_1 {
  text-indent: 5px;
}

#oihqopunws .gt_indent_2 {
  text-indent: 10px;
}

#oihqopunws .gt_indent_3 {
  text-indent: 15px;
}

#oihqopunws .gt_indent_4 {
  text-indent: 20px;
}

#oihqopunws .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" style="table-layout: fixed;; width: 0px">
  <colgroup>
    <col style="width:120px;">
    <col style="width:120px;">
    <col style="width:120px;">
  </colgroup>
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Plot">Plot</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Date">Date</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="n_birds">n_birds</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="Plot" class="gt_row gt_center" style="background-color: #C2FFA1; color: #000000;">A</td>
<td headers="Date" class="gt_row gt_center" style="background-color: #FFF4A1; color: #000000;">2023-04-19</td>
<td headers="n_birds" class="gt_row gt_center" style="background-color: #FFF4A1; color: #000000;">1</td></tr>
    <tr><td headers="Plot" class="gt_row gt_center" style="background-color: #C2FFA1; color: #000000;">A</td>
<td headers="Date" class="gt_row gt_center" style="background-color: #FFF4A1; color: #000000;">2023-05-13</td>
<td headers="n_birds" class="gt_row gt_center" style="background-color: #FFF4A1; color: #000000;">11</td></tr>
    <tr><td headers="Plot" class="gt_row gt_center" style="background-color: #C2FFA1; color: #000000;">A</td>
<td headers="Date" class="gt_row gt_center" style="background-color: #FFF4A1; color: #000000;">2023-06-06</td>
<td headers="n_birds" class="gt_row gt_center" style="background-color: #FFF4A1; color: #000000;">2</td></tr>
    <tr><td headers="Plot" class="gt_row gt_center" style="background-color: #C2FFA1; color: #000000;">B</td>
<td headers="Date" class="gt_row gt_center" style="background-color: #FFF4A1; color: #000000;">2023-07-01</td>
<td headers="n_birds" class="gt_row gt_center" style="background-color: #FFF4A1; color: #000000;">4</td></tr>
    <tr><td headers="Plot" class="gt_row gt_center" style="background-color: #C2FFA1; color: #000000;">B</td>
<td headers="Date" class="gt_row gt_center" style="background-color: #FFF4A1; color: #000000;">2023-07-25</td>
<td headers="n_birds" class="gt_row gt_center" style="background-color: #FFF4A1; color: #000000;">10</td></tr>
    <tr><td headers="Plot" class="gt_row gt_center" style="background-color: #C2FFA1; color: #000000;">B</td>
<td headers="Date" class="gt_row gt_center" style="background-color: #FFF4A1; color: #000000;">2023-08-19</td>
<td headers="n_birds" class="gt_row gt_center" style="background-color: #FFF4A1; color: #000000;">21</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<h3 id="metadata">Metadata</h3>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-22_3df1cb4a783c7c4d7ddd64f3dcaa0162">
<div class="cell-output-display">

<div id="vdxmzprwbq" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#vdxmzprwbq .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#vdxmzprwbq .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#vdxmzprwbq .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#vdxmzprwbq .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#vdxmzprwbq .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#vdxmzprwbq .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vdxmzprwbq .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#vdxmzprwbq .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#vdxmzprwbq .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#vdxmzprwbq .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#vdxmzprwbq .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#vdxmzprwbq .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#vdxmzprwbq .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#vdxmzprwbq .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#vdxmzprwbq .gt_from_md > :first-child {
  margin-top: 0;
}

#vdxmzprwbq .gt_from_md > :last-child {
  margin-bottom: 0;
}

#vdxmzprwbq .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#vdxmzprwbq .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#vdxmzprwbq .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#vdxmzprwbq .gt_row_group_first td {
  border-top-width: 2px;
}

#vdxmzprwbq .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#vdxmzprwbq .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#vdxmzprwbq .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#vdxmzprwbq .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vdxmzprwbq .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#vdxmzprwbq .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#vdxmzprwbq .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#vdxmzprwbq .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vdxmzprwbq .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#vdxmzprwbq .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#vdxmzprwbq .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#vdxmzprwbq .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#vdxmzprwbq .gt_left {
  text-align: left;
}

#vdxmzprwbq .gt_center {
  text-align: center;
}

#vdxmzprwbq .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#vdxmzprwbq .gt_font_normal {
  font-weight: normal;
}

#vdxmzprwbq .gt_font_bold {
  font-weight: bold;
}

#vdxmzprwbq .gt_font_italic {
  font-style: italic;
}

#vdxmzprwbq .gt_super {
  font-size: 65%;
}

#vdxmzprwbq .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

#vdxmzprwbq .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#vdxmzprwbq .gt_indent_1 {
  text-indent: 5px;
}

#vdxmzprwbq .gt_indent_2 {
  text-indent: 10px;
}

#vdxmzprwbq .gt_indent_3 {
  text-indent: 15px;
}

#vdxmzprwbq .gt_indent_4 {
  text-indent: 20px;
}

#vdxmzprwbq .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" style="table-layout: fixed;; width: 0px">
  <colgroup>
    <col style="width:150px;">
    <col style="width:150px;">
  </colgroup>
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Plot">Plot</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Vegetation Density">Vegetation Density</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="Plot" class="gt_row gt_center" style="background-color: #C2FFA1; color: #000000;">A</td>
<td headers="Vegetation Density" class="gt_row gt_center" style="background-color: #D1A1FF; color: #000000;">50</td></tr>
    <tr><td headers="Plot" class="gt_row gt_center" style="background-color: #C2FFA1; color: #000000;">B</td>
<td headers="Vegetation Density" class="gt_row gt_center" style="background-color: rgba(209,161,255,0.31); color: #000000;">76</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
</div><div class="column">
<div class="fragment">
<!-- -->
<h3 id="joining-them-together">Joining them together</h3>
<p><span class="center">Metadata is duplicated to line up with measurements</span></p>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-23_490114e789407ae3a9c743b303253237">
<div class="cell-output-display">

<div id="odbxvyzqpn" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#odbxvyzqpn .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#odbxvyzqpn .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#odbxvyzqpn .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#odbxvyzqpn .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#odbxvyzqpn .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#odbxvyzqpn .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#odbxvyzqpn .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#odbxvyzqpn .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#odbxvyzqpn .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#odbxvyzqpn .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#odbxvyzqpn .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#odbxvyzqpn .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#odbxvyzqpn .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#odbxvyzqpn .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#odbxvyzqpn .gt_from_md > :first-child {
  margin-top: 0;
}

#odbxvyzqpn .gt_from_md > :last-child {
  margin-bottom: 0;
}

#odbxvyzqpn .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#odbxvyzqpn .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#odbxvyzqpn .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#odbxvyzqpn .gt_row_group_first td {
  border-top-width: 2px;
}

#odbxvyzqpn .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#odbxvyzqpn .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#odbxvyzqpn .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#odbxvyzqpn .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#odbxvyzqpn .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#odbxvyzqpn .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#odbxvyzqpn .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#odbxvyzqpn .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#odbxvyzqpn .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#odbxvyzqpn .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#odbxvyzqpn .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#odbxvyzqpn .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#odbxvyzqpn .gt_left {
  text-align: left;
}

#odbxvyzqpn .gt_center {
  text-align: center;
}

#odbxvyzqpn .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#odbxvyzqpn .gt_font_normal {
  font-weight: normal;
}

#odbxvyzqpn .gt_font_bold {
  font-weight: bold;
}

#odbxvyzqpn .gt_font_italic {
  font-style: italic;
}

#odbxvyzqpn .gt_super {
  font-size: 65%;
}

#odbxvyzqpn .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

#odbxvyzqpn .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#odbxvyzqpn .gt_indent_1 {
  text-indent: 5px;
}

#odbxvyzqpn .gt_indent_2 {
  text-indent: 10px;
}

#odbxvyzqpn .gt_indent_3 {
  text-indent: 15px;
}

#odbxvyzqpn .gt_indent_4 {
  text-indent: 20px;
}

#odbxvyzqpn .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" style="table-layout: fixed;; width: 0px">
  <colgroup>
    <col style="width:100px;">
    <col style="width:100px;">
    <col style="width:100px;">
    <col style="width:150px;">
  </colgroup>
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Plot">Plot</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Date">Date</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="n_birds">n_birds</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Vegetation Density">Vegetation Density</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="Plot" class="gt_row gt_center" style="background-color: #C2FFA1; color: #000000;">A</td>
<td headers="Date" class="gt_row gt_center" style="background-color: #FFF4A1; color: #000000;">2023-04-19</td>
<td headers="n_birds" class="gt_row gt_center" style="background-color: #FFF4A1; color: #000000;">1</td>
<td headers="Vegetation Density" class="gt_row gt_center" style="background-color: #D1A1FF; color: #000000;">50</td></tr>
    <tr><td headers="Plot" class="gt_row gt_center" style="background-color: #C2FFA1; color: #000000;">A</td>
<td headers="Date" class="gt_row gt_center" style="background-color: #FFF4A1; color: #000000;">2023-05-13</td>
<td headers="n_birds" class="gt_row gt_center" style="background-color: #FFF4A1; color: #000000;">11</td>
<td headers="Vegetation Density" class="gt_row gt_center" style="background-color: #D1A1FF; color: #000000;">50</td></tr>
    <tr><td headers="Plot" class="gt_row gt_center" style="background-color: #C2FFA1; color: #000000;">A</td>
<td headers="Date" class="gt_row gt_center" style="background-color: #FFF4A1; color: #000000;">2023-06-06</td>
<td headers="n_birds" class="gt_row gt_center" style="background-color: #FFF4A1; color: #000000;">2</td>
<td headers="Vegetation Density" class="gt_row gt_center" style="background-color: #D1A1FF; color: #000000;">50</td></tr>
    <tr><td headers="Plot" class="gt_row gt_center" style="background-color: #C2FFA1; color: #000000;">B</td>
<td headers="Date" class="gt_row gt_center" style="background-color: #FFF4A1; color: #000000;">2023-07-01</td>
<td headers="n_birds" class="gt_row gt_center" style="background-color: #FFF4A1; color: #000000;">4</td>
<td headers="Vegetation Density" class="gt_row gt_center" style="background-color: rgba(209,161,255,0.31); color: #000000;">76</td></tr>
    <tr><td headers="Plot" class="gt_row gt_center" style="background-color: #C2FFA1; color: #000000;">B</td>
<td headers="Date" class="gt_row gt_center" style="background-color: #FFF4A1; color: #000000;">2023-07-25</td>
<td headers="n_birds" class="gt_row gt_center" style="background-color: #FFF4A1; color: #000000;">10</td>
<td headers="Vegetation Density" class="gt_row gt_center" style="background-color: rgba(209,161,255,0.31); color: #000000;">76</td></tr>
    <tr><td headers="Plot" class="gt_row gt_center" style="background-color: #C2FFA1; color: #000000;">B</td>
<td headers="Date" class="gt_row gt_center" style="background-color: #FFF4A1; color: #000000;">2023-08-19</td>
<td headers="n_birds" class="gt_row gt_center" style="background-color: #FFF4A1; color: #000000;">21</td>
<td headers="Vegetation Density" class="gt_row gt_center" style="background-color: rgba(209,161,255,0.31); color: #000000;">76</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="joining-data-sets-2" class="slide level2">
<h2>Joining data sets</h2>
<div class="columns">
<div class="column" style="width:42%;">
<h3 id="index-or-metadata">Index or Metadata</h3>
<div class="cell" data-r.options="{&quot;tibble.print_min&quot;:15}" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-24_6ac308d3d8e39af5091aec2f44024aba">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a>meta <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/grain_meta.csv"</span>)</span>
<span id="cb30-2"><a href="#cb30-2"></a>meta</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 27 × 4
   plot  habitat   technician date      
   &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;      &lt;date&gt;    
 1 CSP01 forest    Catharine  2009-04-23
 2 CSP02 forest    Catharine  2009-05-06
 3 CSP03 clearcut  Jason      2008-09-03
 4 CSP04 forest    Catharine  2008-09-29
 5 CSP05 grassland Catharine  2009-02-05
 6 CSP06 grassland Jason      2008-07-01
 7 CSP07 grassland Jason      2008-11-19
 8 CSP08 grassland Catharine  2009-03-02
 9 CSP09 forest    Catharine  2008-08-21
10 CSP10 grassland Jason      2009-02-17
11 CSP11 forest    Jason      2008-09-16
12 CSP12 grassland Catharine  2009-03-28
13 CSP13 grassland Catharine  2008-07-13
14 CSP14 clearcut  Jason      2009-06-01
15 CSP15 forest    Yasir      2008-12-02
# ℹ 12 more rows</code></pre>
</div>
</div>
</div><div class="column" style="width:58%;">
<h3 id="measurements-1">Measurements</h3>
<div class="cell" data-r.options="{&quot;width&quot;:70,&quot;tibble.print_min&quot;:15}" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-25_7c149865fd6c281676fd9ebc591a4fbe">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a>size <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/grain_size2.csv"</span>)</span>
<span id="cb32-2"><a href="#cb32-2"></a>size</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 114 × 9
   plot  depth coarse_sand medium_sand fine_sand coarse_silt
   &lt;chr&gt; &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt;
 1 CSP01     4       13.0        17.4      19.7        14.1 
 2 CSP01    12       10.7        16.9      19.2        14.1 
 3 CSP01    35       12.1        17.8      16.1        10.3 
 4 CSP01    53       17.6        18.2      14.3         9.4 
 5 CSP01    83       21.0        18.4      14.3         9.79
 6 CSP01   105       19.0        18.4      14.4        10.8 
 7 CSP08    10       11.6        17.1      20.8        16.3 
 8 CSP08    27       15.4        16.2      17.8        14.3 
 9 CSP08    90       14.9        15.8      18.6        15.1 
10 CSP02     5        8.75        8.64      8.66       12.0 
11 CSP02    11        9.89        8.68      8.34       10.7 
12 CSP02    36        8.15        9.24      8.55       10.7 
13 CSP02    56       12.0         8.63      8.06       11.1 
14 CSP02    70       17.5        10.5       8.45       11.2 
15 CSP02    78       23.3        15.0      11.0         9.97
# ℹ 99 more rows
# ℹ 3 more variables: medium_silt &lt;dbl&gt;, fine_silt &lt;dbl&gt;, clay &lt;dbl&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="note absolute fragment" style="bottom: 0px; ">
<p><code>plot</code> (CSP01, CSP02, etc.) identifies data in both</p>
</div>
</section>
<section id="types-of-join-which-rows-to-keep" class="slide level2">
<h2>Types of Join: Which rows to keep?</h2>
<h3 id="left_joinx-y"><code>left_join(x, y)</code></h3>
<ul>
<li>Keep all rows in <code>x</code></li>
<li>Keep rows in <code>y</code> only if they’re also in <code>x</code></li>
</ul>
<p><img data-src="figures/joins.png" class="absolute" style="top: 10%; right: 0px; width: 40%; "></p>
<p><span class="footnote">Adapted from “R for Data Science”</span></p>
<div class="fragment">
<!-- -->
<h3 id="right_joinx-y"><code>right_join(x, y)</code></h3>
<ul>
<li>Keep all rows in <code>y</code></li>
<li>Keep rows in <code>x</code> only if they’re also in <code>y</code></li>
</ul>
</div>
<div class="fragment">
<!-- -->
<h3 id="inner_joinx-y"><code>inner_join(x, y)</code></h3>
<ul>
<li>Keep <strong>only</strong> rows that exist in <strong>both</strong> data frames</li>
</ul>
</div>
<div class="fragment">
<!-- -->
<h3 id="full_joinx-y"><code>full_join(x, y)</code></h3>
<ul>
<li>Keep <strong>all</strong> rows that exist in <strong>either</strong> <code>x</code> <em>or</em> <code>y</code></li>
</ul>
</div>
</section>
<section id="joining-data-sets-3" class="slide level2">
<h2>Joining data sets</h2>
<h3 class="spacer" id="left_join-is-from-dplyr"><code>left_join()</code> is from <code>dplyr</code>*</h3>
<p><span class="footnote">* part of the <code>tidyverse</code></span></p>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-26_9294476739804f2a57d1c4b1523f33d0">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a><span class="fu">left_join</span>(<span class="at">x =</span> data, <span class="at">y =</span> data_to_join, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"column1"</span>, <span class="st">"column2"</span>), ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="spacer">
<ul>
<li><code>tidyverse</code> functions always start with data (<code>x</code>)</li>
<li>Here, also need second dataset (<code>y</code>)</li>
<li><code>by</code> refers columns in <code>x</code> and <code>y</code> used to join</li>
</ul>
</div>
<p><img data-src="figures/hex_dplyr.png" class="absolute" style="top: 0px; right: 0px; width: 20%; "></p>
</section>
<section id="joining-data-sets-4" class="slide level2">
<h2>Joining data sets</h2>
<h3 id="keep-all-measurements-only-keep-meta-if-we-have-a-measurement">Keep all measurements, only keep meta if we have a measurement</h3>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-27_0894817f4f58d3b7879d5a728a13be42">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a>size <span class="ot">&lt;-</span> <span class="fu">left_join</span>(<span class="at">x =</span> size, <span class="at">y =</span> meta, <span class="at">by =</span> <span class="st">"plot"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-28_e480eda4a056bfc1de5920870a5fba95">
<div class="cell-output cell-output-stdout">
<div class="sourceCode" id="cb36"><pre class="sourceCode numberSource small number-lines code-with-copy"><code class="sourceCode"><span id="cb36-1"><a href="#cb36-1"></a># A tibble: 114 × 9</span>
<span id="cb36-2"><a href="#cb36-2"></a>   plot  depth coarse_sand medium_sand fine_sand coarse_silt medium_silt fine_silt  clay</span>
<span id="cb36-3"><a href="#cb36-3"></a>   &lt;chr&gt; &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt; &lt;dbl&gt;</span>
<span id="cb36-4"><a href="#cb36-4"></a> 1 CSP01     4       13.0        17.4      19.7        14.1        11.2       8.17  16.3</span>
<span id="cb36-5"><a href="#cb36-5"></a> 2 CSP01    12       10.7        16.9      19.2        14.1        11.7       9.03  18.4</span>
<span id="cb36-6"><a href="#cb36-6"></a> 3 CSP01    35       12.1        17.8      16.1        10.3         9.51      7.47  26.7</span>
<span id="cb36-7"><a href="#cb36-7"></a> 4 CSP01    53       17.6        18.2      14.3         9.4         9.1       8.7   22.7</span>
<span id="cb36-8"><a href="#cb36-8"></a> 5 CSP01    83       21.0        18.4      14.3         9.79        8.79      7.29  20.4</span>
<span id="cb36-9"><a href="#cb36-9"></a> 6 CSP01   105       19.0        18.4      14.4        10.8         9.4       8.22  19.7</span>
<span id="cb36-10"><a href="#cb36-10"></a> 7 CSP08    10       11.6        17.1      20.8        16.3         9.55      6.23  18.4</span>
<span id="cb36-11"><a href="#cb36-11"></a> 8 CSP08    27       15.4        16.2      17.8        14.3        10.4       6.1   19.6</span>
<span id="cb36-12"><a href="#cb36-12"></a> 9 CSP08    90       14.9        15.8      18.6        15.1        11.5       7.56  16.5</span>
<span id="cb36-13"><a href="#cb36-13"></a>10 CSP02     5        8.75        8.64      8.66       12.0        18.3      15.2   28.5</span>
<span id="cb36-14"><a href="#cb36-14"></a># ℹ 104 more rows</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div class="fragment">
<blockquote>
<p>For more information see R for Data Science <a href="http://r4ds.had.co.nz/relational-data.html#mutating-joins">Chapter 13.4 Mutating joins</a></p>
</blockquote>
</div>
</section></section>
<section>
<section id="creatingmodifying-columns-with-mutate" class="title-slide slide level1 center">
<h1>Creating/modifying columns with <code>mutate()</code></h1>

<img data-src="figures/horst_dplyr_mutate.png" class="r-stretch"><p><span class="footnote">Artwork by <a href="https://github.com/allisonhorst/stats-illustrations"><span class="citation" data-cites="allison_horst">@allison_horst</span></a></span></p>
</section>
<section id="creating-new-columns-1" class="slide level2">
<h2>Creating new columns</h2>
<h3 class="spacer" id="mutate-is-from-dplyr"><code>mutate()</code> is from <code>dplyr</code>*</h3>
<p><span class="footnote">* part of the <code>tidyverse</code></span></p>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-29_bbb3b9ae6c3c87fd89fc3e9a1ef32e1d">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a><span class="fu">mutate</span>(data, <span class="at">column1 =</span> expression1, <span class="at">column2 =</span> expression2, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="spacer">
<ul>
<li><code>tidyverse</code> functions always start with data</li>
<li>Create new or modify existing <code>column</code>s in the <code>data</code></li>
<li>Columns filled according to <code>expression</code></li>
</ul>
</div>
<p><img data-src="figures/hex_dplyr.png" class="absolute" style="top: 0px; right: 0px; width: 20%; "></p>
</section>
<section id="creating-new-columns-2" class="slide level2">
<h2>Creating new columns</h2>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-30_39c5f8a43d458c8c5193eef3708e09fd">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1"></a>size <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/grain_size2.csv"</span>) <span class="sc">|&gt;</span></span>
<span id="cb38-2"><a href="#cb38-2"></a>  <span class="fu">mutate</span>(<span class="at">total_sand =</span> coarse_sand <span class="sc">+</span> medium_sand <span class="sc">+</span> fine_sand)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p>Creates new column at the end, <code>total_sand</code></p>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-31_14d80e9d9dc21876dabaaa9a723411e3">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 114 × 10
   plot  depth coarse_sand medium_sand fine_sand coarse_silt medium_silt fine_silt  clay total_sand
   &lt;chr&gt; &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt; &lt;dbl&gt;      &lt;dbl&gt;
 1 CSP01     4       13.0        17.4      19.7        14.1        11.2       8.17  16.3       50.1
 2 CSP01    12       10.7        16.9      19.2        14.1        11.7       9.03  18.4       46.8
 3 CSP01    35       12.1        17.8      16.1        10.3         9.51      7.47  26.7       46  
 4 CSP01    53       17.6        18.2      14.3         9.4         9.1       8.7   22.7       50.1
 5 CSP01    83       21.0        18.4      14.3         9.79        8.79      7.29  20.4       53.8
 6 CSP01   105       19.0        18.4      14.4        10.8         9.4       8.22  19.7       51.9
 7 CSP08    10       11.6        17.1      20.8        16.3         9.55      6.23  18.4       49.6
 8 CSP08    27       15.4        16.2      17.8        14.3        10.4       6.1   19.6       49.5
 9 CSP08    90       14.9        15.8      18.6        15.1        11.5       7.56  16.5       49.2
10 CSP02     5        8.75        8.64      8.66       12.0        18.3      15.2   28.5       26.0
# ℹ 104 more rows</code></pre>
</div>
</div>
</div>
<div class="fragment">
<blockquote>
<p><strong>Note:</strong> Column math is <em><strong>vectorized</strong></em> (i.e., row by row)</p>
</blockquote>
</div>
</section></section>
<section>
<section id="tangent-1" class="title-slide slide level1 center">
<h1>Tangent</h1>
<p><span class="large">Vectorizing</span></p>
</section>
<section id="tangent-vectorized" class="slide level2">
<h2>Tangent: Vectorized</h2>
<div class="center large spacer">
<p><strong>Vectorized functions run in parallel across vectors</strong></p>
</div>
<div class="columns spacer">
<div class="column spacer">
<ul>
<li>Many functions in R are vectorized</li>
<li>Makes them faster and easier</li>
</ul>
<h3 id="for-example">For example</h3>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-32_d8854ae383e5b5f9da5d5068f4e50b0c">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1"></a>a <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb40-2"><a href="#cb40-2"></a>a <span class="sc">+</span> a</span>
<span id="cb40-3"><a href="#cb40-3"></a>a <span class="sc">*</span> a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column fragment spacer">
<ul>
<li>But not all functions are vectorized</li>
</ul>
<h3 style="padding-top:1.2em" id="for-example-1">For example</h3>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-33_5ff458c0b831d047764634903063bea9">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a><span class="fu">sum</span>(a)</span>
<span id="cb41-2"><a href="#cb41-2"></a><span class="fu">sum</span>(a, a)</span>
<span id="cb41-3"><a href="#cb41-3"></a><span class="fu">mean</span>(a)</span>
<span id="cb41-4"><a href="#cb41-4"></a><span class="fu">mean</span>(<span class="fu">c</span>(a, a))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section></section>
<section>
<section id="back-to-mutate" class="title-slide slide level1 center">
<h1>Back to <code>mutate()</code>…</h1>

</section>
<section id="your-turn-creating-new-columns" class="slide level2">
<h2>Your turn: Creating new columns</h2>
<ul>
<li>Add a calculation for <strong>total <code>silt</code></strong></li>
<li>Check your work</li>
</ul>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-34_ab3b0c33aa9d24c395df328f30be7d60">
<div class="sourceCode cell-code" id="cb42" data-code-line-numbers="5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1"></a>meta <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/grain_meta.csv"</span>)</span>
<span id="cb42-2"><a href="#cb42-2"></a>size <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/grain_size2.csv"</span>) <span class="sc">|&gt;</span></span>
<span id="cb42-3"><a href="#cb42-3"></a>  <span class="fu">left_join</span>(meta, <span class="at">by =</span> <span class="st">"plot"</span>) <span class="sc">|&gt;</span></span>
<span id="cb42-4"><a href="#cb42-4"></a>  <span class="fu">mutate</span>(<span class="at">total_sand =</span> coarse_sand <span class="sc">+</span> medium_sand <span class="sc">+</span> fine_sand,</span>
<span id="cb42-5"><a href="#cb42-5"></a>         ???)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><span class="note absolute" style="left: 50%; bottom: 20%; width: 80%; "><strong>Too Easy?</strong><br>What happens if you add <code>total_sand</code> and <code>total_silt</code> together in the same <code>mutate()</code> function?</span></p>
</section>
<section id="your-turn-creating-new-columns-1" class="slide level2" data-visibility="visible">
<h2>Your turn: Creating new columns</h2>
<ul>
<li>Add a calculation for <strong>total <code>silt</code></strong></li>
<li>Check your work</li>
</ul>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-35_ba0e9fc688710aa86d0aa57a4cece586">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a>meta <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/grain_meta.csv"</span>)</span>
<span id="cb43-2"><a href="#cb43-2"></a>size <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/grain_size2.csv"</span>) <span class="sc">|&gt;</span></span>
<span id="cb43-3"><a href="#cb43-3"></a>  <span class="fu">left_join</span>(meta, <span class="at">by =</span> <span class="st">"plot"</span>) <span class="sc">|&gt;</span></span>
<span id="cb43-4"><a href="#cb43-4"></a>  <span class="fu">mutate</span>(<span class="at">total_sand =</span> coarse_sand <span class="sc">+</span> medium_sand <span class="sc">+</span> fine_sand,</span>
<span id="cb43-5"><a href="#cb43-5"></a>         <span class="at">total_silt =</span> coarse_silt <span class="sc">+</span> medium_silt <span class="sc">+</span> fine_silt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="your-turn-creating-new-columns-2" class="slide level2" data-visibility="visible">
<h2>Your turn: Creating new columns</h2>
<ul>
<li>Add a calculation for <strong>total <code>silt</code></strong></li>
<li>Check your work</li>
</ul>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-36_e8e26adff52b335f422ed56110240d66">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1"></a><span class="fu">select</span>(size, <span class="fu">contains</span>(<span class="st">"silt"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 114 × 4
   coarse_silt medium_silt fine_silt total_silt
         &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;
 1       14.1        11.2       8.17       33.5
 2       14.1        11.7       9.03       34.8
 3       10.3         9.51      7.47       27.3
 4        9.4         9.1       8.7        27.2
 5        9.79        8.79      7.29       25.9
 6       10.8         9.4       8.22       28.4
 7       16.3         9.55      6.23       32.1
 8       14.3        10.4       6.1        30.8
 9       15.1        11.5       7.56       34.2
10       12.0        18.3      15.2        45.4
# ℹ 104 more rows</code></pre>
</div>
</div>
<div class="fragment">
<blockquote>
<p>Wait… that doesn’t add up!</p>
</blockquote>
</div>
</section>
<section id="your-turn-creating-new-columns-3" class="slide level2" data-visibility="visible">
<h2>Your turn: Creating new columns</h2>
<ul>
<li>Add a calculation for <strong>total <code>silt</code></strong></li>
<li>Check your work</li>
</ul>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-37_d14a100e92ff4f21ab4584e3dbf86edf">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1"></a><span class="fu">select</span>(size, <span class="fu">contains</span>(<span class="st">"silt"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb46-2"><a href="#cb46-2"></a>  <span class="fu">as.data.frame</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    coarse_silt medium_silt fine_silt total_silt
1         14.12       11.25      8.17      33.54
2         14.13       11.68      9.03      34.84
3         10.33        9.51      7.47      27.31
4          9.40        9.10      8.70      27.20
5          9.79        8.79      7.29      25.87
6         10.79        9.40      8.22      28.41
7         16.30        9.55      6.23      32.08
8         14.27       10.44      6.10      30.81
9         15.13       11.54      7.56      34.23
10        11.96       18.27     15.22      45.45
11        10.70       18.33     14.30      43.33
12        10.68       18.96     14.45      44.09
13        11.08       17.95     13.74      42.77
14        11.16       16.85     12.99      41.00
15         9.97       13.79     10.97      34.73
16        11.17       12.88     11.17      35.22
17        17.97       14.33     10.57      42.87
18        17.89       15.48     10.46      43.83
19        17.32       15.06     10.45      42.83
20        16.42       15.71     10.20      42.33
21        16.47       15.37     11.05      42.89
22        13.43       10.51      6.50      30.44
23        16.05       11.83      6.99      34.87
24        13.14       10.83      6.62      30.59
25        12.15       11.75      8.13      32.03
26        13.30       10.84      7.06      31.20
27        18.03       14.17      7.62      39.82
28        16.70       12.24      8.71      37.65
29        17.64       12.65      8.08      38.37
30        17.26       13.75      8.37      39.38
31        16.30       12.60      8.10      37.00
32        18.04       12.33      8.68      39.05
33        19.61       12.83      7.82      40.26
34        16.83       12.39      7.43      36.65
35        16.15       12.45      7.81      36.41
36        16.24       12.18      6.94      35.36
37        11.88        7.92      6.05      25.85
38        13.06       10.38      7.92      31.36
39        11.70        9.67      6.31      27.68
40         9.69        9.79      7.82      27.30
41        12.35       12.35     10.17      34.87
42        10.86       10.43      6.99      28.28
43        12.17       11.22      8.68      32.07
44        10.04       11.66      8.10      29.80
45        10.06       11.42     10.58      32.06
46        35.79       21.00     12.52      69.31
47        10.81       12.59     10.29      33.69
48        11.13       12.16      9.58      32.87
49        10.15       11.69      8.72      30.56
50        32.10       19.24     13.18      64.52
51        29.19       19.07     14.23      62.49
52        33.82       16.65      9.89      60.36
53        31.39       18.50     12.06      61.95
54        10.22       11.04      8.67      29.93
55        42.78       21.49      9.92      74.19
56         9.75       13.08     11.97      34.80
57        10.04       13.14     10.87      34.05
58         9.14       12.64      9.76      31.54
59         7.07       12.40      9.74      29.21
60         8.18       10.59     12.37      31.14
61         8.07       10.30      7.44      25.81
62        12.39       17.79     11.54      41.72
63        13.34       18.13      9.48      40.95
64        12.71       18.75     11.87      43.33
65        13.55       22.65     12.00      48.20
66        23.26       15.36     10.31      48.93
67        19.52       16.90      8.40      44.82
68        20.89       17.62      6.01      44.52
69        23.91       22.86      5.37      52.14
70        24.20       20.90      4.90      50.00
71        22.22       13.36      4.93      40.51
72        19.68       12.90      7.65      40.23
73        17.51       14.39      6.66      38.56
74        16.55       19.47      9.00      45.02
75        18.15       21.61      9.18      48.94
76        14.59       15.55      8.10      38.24
77        23.67       23.00     14.85      61.52
78        23.56       23.88     15.31      62.75
79        24.48       25.47     13.78      63.73
80        22.75       27.98     12.41      63.14
81        12.24       12.00      9.88      34.12
82        11.29       12.71      7.28      31.28
83        12.04       12.78      7.14      31.96
84        10.24       10.88      4.27      25.39
85        13.04       16.38      9.59      39.01
86        11.98       18.07     10.40      40.45
87        20.54       18.22      7.84      46.60
88        22.32       14.05     10.75      47.12
89        19.40       15.35      9.65      44.40
90        25.87       14.30     11.83      52.00
91        25.84       16.26     10.47      52.57
92        26.42       16.54      8.49      51.45
93        26.83       16.08     11.39      54.30
94        17.71       14.87      7.59      40.17
95        14.08       15.49     10.37      39.94
96        14.84       13.92     10.24      39.00
97        16.09       15.85     10.05      41.99
98        18.00       16.14     10.57      44.71
99        20.93       15.75     11.59      48.27
100       19.42       13.57     12.69      45.68
101       18.90       15.93      9.89      44.72
102       16.11       14.87     10.50      41.48
103       13.50       12.58      8.39      34.47
104       10.69        9.83      6.37      26.89
105        9.15        8.72      5.71      23.58
106        7.05        8.40      3.94      19.39
107        9.26        9.70      7.36      26.32
108       10.20        8.00      8.00      26.20
109        9.33        9.12      7.21      25.66
110        6.80        8.66      8.25      23.71
111        6.73        7.85      7.06      21.64
112        7.21        9.21      8.61      25.03
113        7.33       13.02      5.40      25.75
114        9.98        9.76      6.80      26.54</code></pre>
</div>
</div>
<p><span class="note absolute" style="left: 75%; bottom: 50%; width: 20%; ">Whew!</span></p>
</section>
<section id="your-turn-creating-new-columns-too-easy" class="slide level2" data-visibility="visible">
<h2>Your turn: Creating new columns (Too Easy?)</h2>
<p><strong>What happens if you add <code>total_sand</code> and <code>total_silt</code> together in the same <code>mutate()</code>?</strong></p>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-38_a40158f237850f87e8b7594683e39fd2">
<div class="sourceCode cell-code" id="cb48" data-code-line-numbers="6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1"></a>meta <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/grain_meta.csv"</span>)</span>
<span id="cb48-2"><a href="#cb48-2"></a>size <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/grain_size2.csv"</span>) <span class="sc">|&gt;</span></span>
<span id="cb48-3"><a href="#cb48-3"></a>  <span class="fu">left_join</span>(meta, <span class="at">by =</span> <span class="st">"plot"</span>) <span class="sc">|&gt;</span></span>
<span id="cb48-4"><a href="#cb48-4"></a>  <span class="fu">mutate</span>(<span class="at">total_sand =</span> coarse_sand <span class="sc">+</span> medium_sand <span class="sc">+</span> fine_sand,</span>
<span id="cb48-5"><a href="#cb48-5"></a>         <span class="at">total_silt =</span> coarse_silt <span class="sc">+</span> medium_silt <span class="sc">+</span> fine_silt,</span>
<span id="cb48-6"><a href="#cb48-6"></a>         <span class="at">total =</span> total_sand <span class="sc">+</span> total_silt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>You get the sum!</li>
<li>Lines within <code>mutate()</code> run sequentially</li>
<li>You can create <code>total_sand</code> and <code>total_silt</code> in the first two lines then use them in the 3rd</li>
<li>But you could not create <code>total_sand</code> and <code>total_silt</code> <em>after</em> using them</li>
</ul>
</section></section>
<section>
<section id="tangent-2" class="title-slide slide level1 center">
<h1>Tangent</h1>
<p><span class="large">Decimal points</span></p>
</section>
<section id="where-are" class="slide level2">
<h2>Where are…</h2>
<h3 id="the-decimal-points">… the decimal points?</h3>
<ul>
<li><code>tibble</code> rounds values for easy viewing</li>
</ul>
<div class="cell" data-r.options="{&quot;width&quot;:100}" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-39_5731f84b75f8e0d1ae16134dce557791">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 114 × 15
  plot  depth coarse_sand medium_sand fine_sand coarse_silt medium_silt fine_silt  clay habitat
  &lt;chr&gt; &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;  
1 CSP01     4        13.0        17.4      19.7       14.1        11.2       8.17  16.3 forest 
2 CSP01    12        10.7        16.9      19.2       14.1        11.7       9.03  18.4 forest 
3 CSP01    35        12.1        17.8      16.1       10.3         9.51      7.47  26.7 forest 
4 CSP01    53        17.6        18.2      14.3        9.4         9.1       8.7   22.7 forest 
5 CSP01    83        21.0        18.4      14.3        9.79        8.79      7.29  20.4 forest 
# ℹ 109 more rows
# ℹ 5 more variables: technician &lt;chr&gt;, date &lt;date&gt;, total_sand &lt;dbl&gt;, total_silt &lt;dbl&gt;,
#   total &lt;dbl&gt;</code></pre>
</div>
</div>
<h3 id="my-data">… my data?</h3>
<p><code># ℹ 109 more rows</code><br> <code># ℹ 5 more variables: technician &lt;chr&gt; ...</code></p>
</section>
<section id="to-see-raw-data" class="slide level2">
<h2>To see raw data</h2>
<ul>
<li>Click on the name in the Environment pane</li>
<li>Or use <code>as.data.frame()</code></li>
</ul>
<div class="cell" data-r.options="{&quot;width&quot;:100}" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-40_826ebed0654a5afd342f53cc73d83460">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1"></a><span class="fu">as.data.frame</span>(size)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     plot depth coarse_sand medium_sand fine_sand coarse_silt medium_silt fine_silt  clay   habitat
1   CSP01     4       13.04       17.37     19.71       14.12       11.25      8.17 16.30    forest
2   CSP01    12       10.74       16.90     19.15       14.13       11.68      9.03 18.40    forest
3   CSP01    35       12.11       17.75     16.14       10.33        9.51      7.47 26.70    forest
4   CSP01    53       17.61       18.16     14.32        9.40        9.10      8.70 22.70    forest
5   CSP01    83       21.05       18.38     14.34        9.79        8.79      7.29 20.40    forest
6   CSP01   105       19.02       18.43     14.44       10.79        9.40      8.22 19.70    forest
7   CSP08    10       11.60       17.14     20.81       16.30        9.55      6.23 18.40 grassland
8   CSP08    27       15.44       16.25     17.85       14.27       10.44      6.10 19.60 grassland
9   CSP08    90       14.88       15.79     18.57       15.13       11.54      7.56 16.50 grassland
10  CSP02     5        8.75        8.64      8.66       11.96       18.27     15.22 28.50    forest
11  CSP02    11        9.89        8.68      8.34       10.70       18.33     14.30 29.80    forest
12  CSP02    36        8.15        9.24      8.55       10.68       18.96     14.45 30.00    forest
13  CSP02    56       12.02        8.63      8.06       11.08       17.95     13.74 28.50    forest
14  CSP02    70       17.54       10.47      8.45       11.16       16.85     12.99 22.50    forest
15  CSP02    78       23.27       14.96     11.03        9.97       13.79     10.97 16.00    forest
16  CSP02   100       23.22       16.98      9.68       11.17       12.88     11.17 14.90    forest
17  CSP04     5        6.24        8.43     14.15       17.97       14.33     10.57 28.30    forest
18  CSP04    40        6.30        7.92     14.97       17.89       15.48     10.46 27.00    forest
19  CSP04    60        6.66        8.03     14.61       17.32       15.06     10.45 27.90    forest
20  CSP04    80        7.06        8.13     14.83       16.42       15.71     10.20 27.60    forest
21  CSP04   110       12.78        7.66     13.66       16.47       15.37     11.05 23.00    forest
22  CSP05     5       22.48       15.14     15.69       13.43       10.51      6.50 16.20 grassland
23  CSP05    13       13.81       14.24     17.95       16.05       11.83      6.99 19.10 grassland
24  CSP05    32       13.07       12.75     16.06       13.14       10.83      6.62 27.50 grassland
25  CSP05    52       11.88       12.42     14.37       12.15       11.75      8.13 29.30 grassland
26  CSP05    90       13.16       14.13     16.04       13.30       10.84      7.06 25.50 grassland
27  CSP09     8        9.42       12.20     15.17       18.03       14.17      7.62 23.40    forest
28  CSP09    15       10.05       11.51     13.92       16.70       12.24      8.71 26.90    forest
29  CSP09    30       16.17        9.88     11.67       17.64       12.65      8.08 23.90    forest
30  CSP09    48       11.96       11.67     12.70       17.26       13.75      8.37 24.30    forest
31  CSP09    80       20.78        9.92     12.30       16.30       12.60      8.10 20.00    forest
32  CSP12     5       11.49       13.85     17.70       18.04       12.33      8.68 17.90 grassland
33  CSP12    10        7.63       14.03     18.47       19.61       12.83      7.82 19.60 grassland
34  CSP12    30        8.02       14.26     17.33       16.83       12.39      7.43 23.70 grassland
35  CSP12    50       14.06       14.77     17.77       16.15       12.45      7.81 17.00 grassland
36  CSP12    75       10.58       15.20     20.26       16.24       12.18      6.94 18.60 grassland
37  CSP13     2       22.06       17.49     18.32       11.88        7.92      6.05 16.30 grassland
38  CSP13    10       12.06       14.94     18.00       13.06       10.38      7.92 23.60 grassland
39  CSP13    25       13.67       12.68     14.32       11.70        9.67      6.31 31.60 grassland
40  CSP13    60       27.06        9.74     11.11        9.69        9.79      7.82 24.80 grassland
41  CSP13   140       10.36       15.32     15.99       12.35       12.35     10.17 23.50 grassland
42  CSP16     7       23.73       18.29     15.27       10.86       10.43      6.99 14.40    forest
43  CSP16    25       15.42       17.12     16.98       12.17       11.22      8.68 18.40    forest
44  CSP16    49       17.55       15.45     14.10       10.04       11.66      8.10 23.10    forest
45  CSP16    70       19.10       15.73     12.46       10.06       11.42     10.58 20.60    forest
46  CSP16    93        3.50        3.61     11.18       35.79       21.00     12.52 12.40    forest
47  CSP17     5       15.53       15.58     13.36       10.81       12.59     10.29 21.80    forest
48  CSP17    18       13.62       11.95     12.01       11.13       12.16      9.58 29.60    forest
49  CSP17    80       19.66       12.32      9.67       10.15       11.69      8.72 27.80    forest
50  CSP19     6        1.71        2.70      8.05       32.10       19.24     13.18 23.00    forest
51  CSP19    20        2.46        3.08      7.00       29.19       19.07     14.23 25.00    forest
52  CSP19    35        3.75        3.87     10.18       33.82       16.65      9.89 21.90    forest
53  CSP19    60        3.31        4.61     11.31       31.39       18.50     12.06 18.80    forest
54  CSP19    80       25.78       14.13     10.44       10.22       11.04      8.67 19.70    forest
55  CSP19   190        3.33        4.28     14.16       42.78       21.49      9.92  4.00    forest
56  CSP25     6       16.16       17.59     12.49        9.75       13.08     11.97 19.00 grassland
57  CSP25    15       14.35       17.49     11.56       10.04       13.14     10.87 22.60 grassland
58  CSP25    32       13.94       19.19     12.32        9.14       12.64      9.76 23.00 grassland
59  CSP25    65       20.59       19.53      9.44        7.07       12.40      9.74 21.20 grassland
60  CSP25    79       16.60       18.54     10.57        8.18       10.59     12.37 23.20 grassland
61  CSP25   130       18.56       21.31     13.82        8.07       10.30      7.44 20.50 grassland
62  CSP03     6       10.40       13.21     10.53       12.39       17.79     11.54 24.14  clearcut
63  CSP03    25       12.62       10.38     10.22       13.34       18.13      9.48 25.84  clearcut
64  CSP03    38       10.02        9.52      9.15       12.71       18.75     11.87 27.97  clearcut
65  CSP03   100        6.08        8.01      9.38       13.55       22.65     12.00 28.34  clearcut
66  CSP06     5       12.43       10.45     11.52       23.26       15.36     10.31 16.68 grassland
67  CSP06    20       14.26       13.34     11.67       19.52       16.90      8.40 15.92 grassland
68  CSP06    30       10.89       13.13     13.42       20.89       17.62      6.01 18.04 grassland
69  CSP06    40       10.77       11.66     11.54       23.91       22.86      5.37 13.90 grassland
70  CSP06   100       19.15       13.87     10.99       24.20       20.90      4.90  6.00 grassland
71  CSP07    14       13.94       10.32     20.56       22.22       13.36      4.93 14.67 grassland
72  CSP07    28        7.04        7.89     15.97       19.68       12.90      7.65 28.86 grassland
73  CSP07    48        6.89        8.49     18.67       17.51       14.39      6.66 27.39 grassland
74  CSP10     4       11.25        8.19      9.27       16.55       19.47      9.00 26.28 grassland
75  CSP10    27        9.34        9.04     10.85       18.15       21.61      9.18 21.82 grassland
76  CSP10    64       24.18       12.45      9.15       14.59       15.55      8.10 15.98 grassland
77  CSP11    20        6.67        3.94      5.52       23.67       23.00     14.85 22.33    forest
78  CSP11    30        5.27        4.23      6.11       23.56       23.88     15.31 21.63    forest
79  CSP11    47        4.34        4.03      6.62       24.48       25.47     13.78 21.28    forest
80  CSP11   143        5.28        4.26      7.07       22.75       27.98     12.41 20.25    forest
81  CSP14     3       16.08       15.01     17.49       12.24       12.00      9.88 17.30  clearcut
82  CSP14    16       18.86       16.88     15.28       11.29       12.71      7.28 17.70  clearcut
83  CSP14    31       17.91       16.48     15.54       12.04       12.78      7.14 18.11  clearcut
84  CSP14    40       31.80       15.91     11.00       10.24       10.88      4.27 15.90  clearcut
85  CSP15    52       13.51       13.56     13.54       13.04       16.38      9.59 20.37    forest
86  CSP15   146       13.63       12.31     12.49       11.98       18.07     10.40 21.12    forest
87  CSP18    14        6.68        7.65     13.88       20.54       18.22      7.84 25.18 grassland
88  CSP18    29        7.19        7.42     12.96       22.32       14.05     10.75 25.32 grassland
89  CSP18    73        5.76        8.32     14.03       19.40       15.35      9.65 27.49 grassland
90  CSP20     3        5.12        5.09     17.90       25.87       14.30     11.83 19.89    forest
91  CSP20    20        4.69        5.22     16.91       25.84       16.26     10.47 20.60    forest
92  CSP20    38        5.21        5.63     18.37       26.42       16.54      8.49 19.33    forest
93  CSP20    97        4.70        6.03     18.99       26.83       16.08     11.39 15.97    forest
94  CSP20   150       22.73       12.94     12.66       17.71       14.87      7.59 11.49    forest
95  CSP21     3       14.14       11.59     11.94       14.08       15.49     10.37 22.40 grassland
96  CSP21    11       15.52       12.04     12.03       14.84       13.92     10.24 21.40 grassland
97  CSP21    38       10.79       11.56     13.18       16.09       15.85     10.05 22.47 grassland
98  CSP22     6        7.74        7.49     14.99       18.00       16.14     10.57 25.08    forest
99  CSP22    13        4.52        6.49     16.09       20.93       15.75     11.59 24.64    forest
100 CSP22    22        3.63        6.02     15.32       19.42       13.57     12.69 29.35    forest
101 CSP22    51        9.66        7.51     13.29       18.90       15.93      9.89 24.83    forest
102 CSP22    77       17.43       11.04     11.04       16.11       14.87     10.50 19.02    forest
103 CSP22   182       17.93       13.61     13.11       13.50       12.58      8.39 20.87    forest
104 CSP23    12       25.78       20.90     13.80       10.69        9.83      6.37 12.63 grassland
105 CSP23    46       26.04       18.48     12.08        9.15        8.72      5.71 19.81 grassland
106 CSP23    48       33.55       19.27      9.53        7.05        8.40      3.94 18.26 grassland
107 CSP24    10       24.04       21.57     11.56        9.26        9.70      7.36 16.51    forest
108 CSP24    30       21.80       22.22     11.79       10.20        8.00      8.00 17.99    forest
109 CSP24    47       23.57       18.66     11.84        9.33        9.12      7.21 20.26    forest
110 CSP26     4       30.33       15.40     10.25        6.80        8.66      8.25 20.31  clearcut
111 CSP26    15       39.97       13.97      8.50        6.73        7.85      7.06 15.92  clearcut
112 CSP26    34       26.52       17.93      8.92        7.21        9.21      8.61 21.62  clearcut
113 CSP26    80       18.93       19.73     10.88        7.33       13.02      5.40 24.69  clearcut
114 CSP27    10       28.52       16.88     12.94        9.98        9.76      6.80 15.13 grassland
    technician       date total_sand total_silt total
1    Catharine 2009-04-23      50.12      33.54 83.66
2    Catharine 2009-04-23      46.79      34.84 81.63
3    Catharine 2009-04-23      46.00      27.31 73.31
4    Catharine 2009-04-23      50.09      27.20 77.29
5    Catharine 2009-04-23      53.77      25.87 79.64
6    Catharine 2009-04-23      51.89      28.41 80.30
7    Catharine 2009-03-02      49.55      32.08 81.63
8    Catharine 2009-03-02      49.54      30.81 80.35
9    Catharine 2009-03-02      49.24      34.23 83.47
10   Catharine 2009-05-06      26.05      45.45 71.50
11   Catharine 2009-05-06      26.91      43.33 70.24
12   Catharine 2009-05-06      25.94      44.09 70.03
13   Catharine 2009-05-06      28.71      42.77 71.48
14   Catharine 2009-05-06      36.46      41.00 77.46
15   Catharine 2009-05-06      49.26      34.73 83.99
16   Catharine 2009-05-06      49.88      35.22 85.10
17   Catharine 2008-09-29      28.82      42.87 71.69
18   Catharine 2008-09-29      29.19      43.83 73.02
19   Catharine 2008-09-29      29.30      42.83 72.13
20   Catharine 2008-09-29      30.02      42.33 72.35
21   Catharine 2008-09-29      34.10      42.89 76.99
22   Catharine 2009-02-05      53.31      30.44 83.75
23   Catharine 2009-02-05      46.00      34.87 80.87
24   Catharine 2009-02-05      41.88      30.59 72.47
25   Catharine 2009-02-05      38.67      32.03 70.70
26   Catharine 2009-02-05      43.33      31.20 74.53
27   Catharine 2008-08-21      36.79      39.82 76.61
28   Catharine 2008-08-21      35.48      37.65 73.13
29   Catharine 2008-08-21      37.72      38.37 76.09
30   Catharine 2008-08-21      36.33      39.38 75.71
31   Catharine 2008-08-21      43.00      37.00 80.00
32   Catharine 2009-03-28      43.04      39.05 82.09
33   Catharine 2009-03-28      40.13      40.26 80.39
34   Catharine 2009-03-28      39.61      36.65 76.26
35   Catharine 2009-03-28      46.60      36.41 83.01
36   Catharine 2009-03-28      46.04      35.36 81.40
37   Catharine 2008-07-13      57.87      25.85 83.72
38   Catharine 2008-07-13      45.00      31.36 76.36
39   Catharine 2008-07-13      40.67      27.68 68.35
40   Catharine 2008-07-13      47.91      27.30 75.21
41   Catharine 2008-07-13      41.67      34.87 76.54
42   Catharine 2008-08-08      57.29      28.28 85.57
43   Catharine 2008-08-08      49.52      32.07 81.59
44   Catharine 2008-08-08      47.10      29.80 76.90
45   Catharine 2008-08-08      47.29      32.06 79.35
46   Catharine 2008-08-08      18.29      69.31 87.60
47       Jason 2009-05-19      44.47      33.69 78.16
48       Jason 2009-05-19      37.58      32.87 70.45
49       Jason 2009-05-19      41.65      30.56 72.21
50       Jason 2008-07-26      12.46      64.52 76.98
51       Jason 2008-07-26      12.54      62.49 75.03
52       Jason 2008-07-26      17.80      60.36 78.16
53       Jason 2008-07-26      19.23      61.95 81.18
54       Jason 2008-07-26      50.35      29.93 80.28
55       Jason 2008-07-26      21.77      74.19 95.96
56       Jason 2008-12-15      46.24      34.80 81.04
57       Jason 2008-12-15      43.40      34.05 77.45
58       Jason 2008-12-15      45.45      31.54 76.99
59       Jason 2008-12-15      49.56      29.21 78.77
60       Jason 2008-12-15      45.71      31.14 76.85
61       Jason 2008-12-15      53.69      25.81 79.50
62       Jason 2008-09-03      34.14      41.72 75.86
63       Jason 2008-09-03      33.22      40.95 74.17
64       Jason 2008-09-03      28.69      43.33 72.02
65       Jason 2008-09-03      23.47      48.20 71.67
66       Jason 2008-07-01      34.40      48.93 83.33
67       Jason 2008-07-01      39.27      44.82 84.09
68       Jason 2008-07-01      37.44      44.52 81.96
69       Jason 2008-07-01      33.97      52.14 86.11
70       Jason 2008-07-01      44.01      50.00 94.01
71       Jason 2008-11-19      44.82      40.51 85.33
72       Jason 2008-11-19      30.90      40.23 71.13
73       Jason 2008-11-19      34.05      38.56 72.61
74       Jason 2009-02-17      28.71      45.02 73.73
75       Jason 2009-02-17      29.23      48.94 78.17
76       Jason 2009-02-17      45.78      38.24 84.02
77       Jason 2008-09-16      16.13      61.52 77.65
78       Jason 2008-09-16      15.61      62.75 78.36
79       Jason 2008-09-16      14.99      63.73 78.72
80       Jason 2008-09-16      16.61      63.14 79.75
81       Jason 2009-06-01      48.58      34.12 82.70
82       Jason 2009-06-01      51.02      31.28 82.30
83       Jason 2009-06-01      49.93      31.96 81.89
84       Jason 2009-06-01      58.71      25.39 84.10
85       Yasir 2008-12-02      40.61      39.01 79.62
86       Yasir 2008-12-02      38.43      40.45 78.88
87       Yasir 2009-04-10      28.21      46.60 74.81
88       Yasir 2009-04-10      27.57      47.12 74.69
89       Yasir 2009-04-10      28.11      44.40 72.51
90       Yasir 2009-01-23      28.11      52.00 80.11
91       Yasir 2009-01-23      26.82      52.57 79.39
92       Yasir 2009-01-23      29.21      51.45 80.66
93       Yasir 2009-01-23      29.72      54.30 84.02
94       Yasir 2009-01-23      48.33      40.17 88.50
95       Yasir 2009-03-15      37.67      39.94 77.61
96       Yasir 2009-03-15      39.59      39.00 78.59
97       Yasir 2009-03-15      35.53      41.99 77.52
98       Yasir 2008-12-28      30.22      44.71 74.93
99       Yasir 2008-12-28      27.10      48.27 75.37
100      Yasir 2008-12-28      24.97      45.68 70.65
101      Yasir 2008-12-28      30.46      44.72 75.18
102      Yasir 2008-12-28      39.51      41.48 80.99
103      Yasir 2008-12-28      44.65      34.47 79.12
104      Yasir 2008-10-12      60.48      26.89 87.37
105      Yasir 2008-10-12      56.60      23.58 80.18
106      Yasir 2008-10-12      62.35      19.39 81.74
107      Yasir 2008-10-24      57.17      26.32 83.49
108      Yasir 2008-10-24      55.81      26.20 82.01
109      Yasir 2008-10-24      54.07      25.66 79.73
110      Yasir 2008-11-06      55.98      23.71 79.69
111      Yasir 2008-11-06      62.44      21.64 84.08
112      Yasir 2008-11-06      53.37      25.03 78.40
113      Yasir 2008-11-06      49.54      25.75 75.29
114      Yasir 2009-01-10      58.34      26.54 84.88</code></pre>
</div>
</div>
</section>
<section id="to-see-all-rows" class="slide level2">
<h2>To see all rows</h2>
<ul>
<li>Use <code>print()</code></li>
</ul>
<div class="cell" data-r.options="{&quot;width&quot;:100}" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-41_5c8aa54c5ba520732a0c507b3166a005">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1"></a><span class="fu">print</span>(size, <span class="at">n =</span> <span class="cn">Inf</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 114 × 15
    plot  depth coarse_sand medium_sand fine_sand coarse_silt medium_silt fine_silt  clay habitat  
    &lt;chr&gt; &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;    
  1 CSP01     4       13.0        17.4      19.7        14.1        11.2       8.17  16.3 forest   
  2 CSP01    12       10.7        16.9      19.2        14.1        11.7       9.03  18.4 forest   
  3 CSP01    35       12.1        17.8      16.1        10.3         9.51      7.47  26.7 forest   
  4 CSP01    53       17.6        18.2      14.3         9.4         9.1       8.7   22.7 forest   
  5 CSP01    83       21.0        18.4      14.3         9.79        8.79      7.29  20.4 forest   
  6 CSP01   105       19.0        18.4      14.4        10.8         9.4       8.22  19.7 forest   
  7 CSP08    10       11.6        17.1      20.8        16.3         9.55      6.23  18.4 grassland
  8 CSP08    27       15.4        16.2      17.8        14.3        10.4       6.1   19.6 grassland
  9 CSP08    90       14.9        15.8      18.6        15.1        11.5       7.56  16.5 grassland
 10 CSP02     5        8.75        8.64      8.66       12.0        18.3      15.2   28.5 forest   
 11 CSP02    11        9.89        8.68      8.34       10.7        18.3      14.3   29.8 forest   
 12 CSP02    36        8.15        9.24      8.55       10.7        19.0      14.4   30   forest   
 13 CSP02    56       12.0         8.63      8.06       11.1        18.0      13.7   28.5 forest   
 14 CSP02    70       17.5        10.5       8.45       11.2        16.8      13.0   22.5 forest   
 15 CSP02    78       23.3        15.0      11.0         9.97       13.8      11.0   16   forest   
 16 CSP02   100       23.2        17.0       9.68       11.2        12.9      11.2   14.9 forest   
 17 CSP04     5        6.24        8.43     14.2        18.0        14.3      10.6   28.3 forest   
 18 CSP04    40        6.3         7.92     15.0        17.9        15.5      10.5   27   forest   
 19 CSP04    60        6.66        8.03     14.6        17.3        15.1      10.4   27.9 forest   
 20 CSP04    80        7.06        8.13     14.8        16.4        15.7      10.2   27.6 forest   
 21 CSP04   110       12.8         7.66     13.7        16.5        15.4      11.0   23   forest   
 22 CSP05     5       22.5        15.1      15.7        13.4        10.5       6.5   16.2 grassland
 23 CSP05    13       13.8        14.2      18.0        16.0        11.8       6.99  19.1 grassland
 24 CSP05    32       13.1        12.8      16.1        13.1        10.8       6.62  27.5 grassland
 25 CSP05    52       11.9        12.4      14.4        12.2        11.8       8.13  29.3 grassland
 26 CSP05    90       13.2        14.1      16.0        13.3        10.8       7.06  25.5 grassland
 27 CSP09     8        9.42       12.2      15.2        18.0        14.2       7.62  23.4 forest   
 28 CSP09    15       10.0        11.5      13.9        16.7        12.2       8.71  26.9 forest   
 29 CSP09    30       16.2         9.88     11.7        17.6        12.6       8.08  23.9 forest   
 30 CSP09    48       12.0        11.7      12.7        17.3        13.8       8.37  24.3 forest   
 31 CSP09    80       20.8         9.92     12.3        16.3        12.6       8.1   20   forest   
 32 CSP12     5       11.5        13.8      17.7        18.0        12.3       8.68  17.9 grassland
 33 CSP12    10        7.63       14.0      18.5        19.6        12.8       7.82  19.6 grassland
 34 CSP12    30        8.02       14.3      17.3        16.8        12.4       7.43  23.7 grassland
 35 CSP12    50       14.1        14.8      17.8        16.2        12.4       7.81  17   grassland
 36 CSP12    75       10.6        15.2      20.3        16.2        12.2       6.94  18.6 grassland
 37 CSP13     2       22.1        17.5      18.3        11.9         7.92      6.05  16.3 grassland
 38 CSP13    10       12.1        14.9      18          13.1        10.4       7.92  23.6 grassland
 39 CSP13    25       13.7        12.7      14.3        11.7         9.67      6.31  31.6 grassland
 40 CSP13    60       27.1         9.74     11.1         9.69        9.79      7.82  24.8 grassland
 41 CSP13   140       10.4        15.3      16.0        12.4        12.4      10.2   23.5 grassland
 42 CSP16     7       23.7        18.3      15.3        10.9        10.4       6.99  14.4 forest   
 43 CSP16    25       15.4        17.1      17.0        12.2        11.2       8.68  18.4 forest   
 44 CSP16    49       17.6        15.4      14.1        10.0        11.7       8.1   23.1 forest   
 45 CSP16    70       19.1        15.7      12.5        10.1        11.4      10.6   20.6 forest   
 46 CSP16    93        3.5         3.61     11.2        35.8        21        12.5   12.4 forest   
 47 CSP17     5       15.5        15.6      13.4        10.8        12.6      10.3   21.8 forest   
 48 CSP17    18       13.6        12.0      12.0        11.1        12.2       9.58  29.6 forest   
 49 CSP17    80       19.7        12.3       9.67       10.2        11.7       8.72  27.8 forest   
 50 CSP19     6        1.71        2.7       8.05       32.1        19.2      13.2   23   forest   
 51 CSP19    20        2.46        3.08      7          29.2        19.1      14.2   25   forest   
 52 CSP19    35        3.75        3.87     10.2        33.8        16.6       9.89  21.9 forest   
 53 CSP19    60        3.31        4.61     11.3        31.4        18.5      12.1   18.8 forest   
 54 CSP19    80       25.8        14.1      10.4        10.2        11.0       8.67  19.7 forest   
 55 CSP19   190        3.33        4.28     14.2        42.8        21.5       9.92   4   forest   
 56 CSP25     6       16.2        17.6      12.5         9.75       13.1      12.0   19   grassland
 57 CSP25    15       14.4        17.5      11.6        10.0        13.1      10.9   22.6 grassland
 58 CSP25    32       13.9        19.2      12.3         9.14       12.6       9.76  23   grassland
 59 CSP25    65       20.6        19.5       9.44        7.07       12.4       9.74  21.2 grassland
 60 CSP25    79       16.6        18.5      10.6         8.18       10.6      12.4   23.2 grassland
 61 CSP25   130       18.6        21.3      13.8         8.07       10.3       7.44  20.5 grassland
 62 CSP03     6       10.4        13.2      10.5        12.4        17.8      11.5   24.1 clearcut 
 63 CSP03    25       12.6        10.4      10.2        13.3        18.1       9.48  25.8 clearcut 
 64 CSP03    38       10.0         9.52      9.15       12.7        18.8      11.9   28.0 clearcut 
 65 CSP03   100        6.08        8.01      9.38       13.6        22.6      12     28.3 clearcut 
 66 CSP06     5       12.4        10.4      11.5        23.3        15.4      10.3   16.7 grassland
 67 CSP06    20       14.3        13.3      11.7        19.5        16.9       8.4   15.9 grassland
 68 CSP06    30       10.9        13.1      13.4        20.9        17.6       6.01  18.0 grassland
 69 CSP06    40       10.8        11.7      11.5        23.9        22.9       5.37  13.9 grassland
 70 CSP06   100       19.2        13.9      11.0        24.2        20.9       4.9    6   grassland
 71 CSP07    14       13.9        10.3      20.6        22.2        13.4       4.93  14.7 grassland
 72 CSP07    28        7.04        7.89     16.0        19.7        12.9       7.65  28.9 grassland
 73 CSP07    48        6.89        8.49     18.7        17.5        14.4       6.66  27.4 grassland
 74 CSP10     4       11.2         8.19      9.27       16.6        19.5       9     26.3 grassland
 75 CSP10    27        9.34        9.04     10.8        18.2        21.6       9.18  21.8 grassland
 76 CSP10    64       24.2        12.4       9.15       14.6        15.6       8.1   16.0 grassland
 77 CSP11    20        6.67        3.94      5.52       23.7        23        14.8   22.3 forest   
 78 CSP11    30        5.27        4.23      6.11       23.6        23.9      15.3   21.6 forest   
 79 CSP11    47        4.34        4.03      6.62       24.5        25.5      13.8   21.3 forest   
 80 CSP11   143        5.28        4.26      7.07       22.8        28.0      12.4   20.2 forest   
 81 CSP14     3       16.1        15.0      17.5        12.2        12         9.88  17.3 clearcut 
 82 CSP14    16       18.9        16.9      15.3        11.3        12.7       7.28  17.7 clearcut 
 83 CSP14    31       17.9        16.5      15.5        12.0        12.8       7.14  18.1 clearcut 
 84 CSP14    40       31.8        15.9      11          10.2        10.9       4.27  15.9 clearcut 
 85 CSP15    52       13.5        13.6      13.5        13.0        16.4       9.59  20.4 forest   
 86 CSP15   146       13.6        12.3      12.5        12.0        18.1      10.4   21.1 forest   
 87 CSP18    14        6.68        7.65     13.9        20.5        18.2       7.84  25.2 grassland
 88 CSP18    29        7.19        7.42     13.0        22.3        14.0      10.8   25.3 grassland
 89 CSP18    73        5.76        8.32     14.0        19.4        15.4       9.65  27.5 grassland
 90 CSP20     3        5.12        5.09     17.9        25.9        14.3      11.8   19.9 forest   
 91 CSP20    20        4.69        5.22     16.9        25.8        16.3      10.5   20.6 forest   
 92 CSP20    38        5.21        5.63     18.4        26.4        16.5       8.49  19.3 forest   
 93 CSP20    97        4.7         6.03     19.0        26.8        16.1      11.4   16.0 forest   
 94 CSP20   150       22.7        12.9      12.7        17.7        14.9       7.59  11.5 forest   
 95 CSP21     3       14.1        11.6      11.9        14.1        15.5      10.4   22.4 grassland
 96 CSP21    11       15.5        12.0      12.0        14.8        13.9      10.2   21.4 grassland
 97 CSP21    38       10.8        11.6      13.2        16.1        15.8      10.0   22.5 grassland
 98 CSP22     6        7.74        7.49     15.0        18          16.1      10.6   25.1 forest   
 99 CSP22    13        4.52        6.49     16.1        20.9        15.8      11.6   24.6 forest   
100 CSP22    22        3.63        6.02     15.3        19.4        13.6      12.7   29.4 forest   
101 CSP22    51        9.66        7.51     13.3        18.9        15.9       9.89  24.8 forest   
102 CSP22    77       17.4        11.0      11.0        16.1        14.9      10.5   19.0 forest   
103 CSP22   182       17.9        13.6      13.1        13.5        12.6       8.39  20.9 forest   
104 CSP23    12       25.8        20.9      13.8        10.7         9.83      6.37  12.6 grassland
105 CSP23    46       26.0        18.5      12.1         9.15        8.72      5.71  19.8 grassland
106 CSP23    48       33.6        19.3       9.53        7.05        8.4       3.94  18.3 grassland
107 CSP24    10       24.0        21.6      11.6         9.26        9.7       7.36  16.5 forest   
108 CSP24    30       21.8        22.2      11.8        10.2         8         8     18.0 forest   
109 CSP24    47       23.6        18.7      11.8         9.33        9.12      7.21  20.3 forest   
110 CSP26     4       30.3        15.4      10.2         6.8         8.66      8.25  20.3 clearcut 
111 CSP26    15       40.0        14.0       8.5         6.73        7.85      7.06  15.9 clearcut 
112 CSP26    34       26.5        17.9       8.92        7.21        9.21      8.61  21.6 clearcut 
113 CSP26    80       18.9        19.7      10.9         7.33       13.0       5.4   24.7 clearcut 
114 CSP27    10       28.5        16.9      12.9         9.98        9.76      6.8   15.1 grassland
# ℹ 5 more variables: technician &lt;chr&gt;, date &lt;date&gt;, total_sand &lt;dbl&gt;, total_silt &lt;dbl&gt;,
#   total &lt;dbl&gt;</code></pre>
</div>
</div>
</section></section>
<section>
<section id="back-to-mutate-1" class="title-slide slide level1 center">
<h1>Back to <code>mutate()</code>…</h1>

</section>
<section id="mutating-by-group" class="slide level2">
<h2>Mutating by group</h2>
<h3 class="spacer" id="group_by-and-ungroup-are-from-dplyr"><code>group_by()</code> and <code>ungroup()</code> are from <code>dplyr</code>*</h3>
<p><span class="footnote">* part of the <code>tidyverse</code></span></p>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-42_53427dd98d9c5e2f1dd096a5ea36346c">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1"></a><span class="fu">group_by</span>(data, column1, column2)</span>
<span id="cb54-2"><a href="#cb54-2"></a><span class="fu">ungroup</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="spacer">
<ul>
<li><code>tidyverse</code> functions always start with data</li>
<li><code>group_by()</code> applies grouping according to specified <code>data</code> <code>columns</code></li>
<li><code>ungroup()</code> removes grouping from <code>data</code></li>
</ul>
</div>
<p><img data-src="figures/hex_dplyr.png" class="absolute" style="top: 0px; right: 0px; width: 20%; "></p>
</section>
<section id="mutating-by-group-1" class="slide level2">
<h2>Mutating by group</h2>
<div class="columns">
<div class="column">
<h3 id="mutate-without-grouping"><code>mutate()</code> without grouping</h3>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-43_a544dbb946532154d0090369be783712">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1"></a>size <span class="ot">&lt;-</span> size <span class="sc">|&gt;</span></span>
<span id="cb55-2"><a href="#cb55-2"></a>  <span class="fu">mutate</span>(<span class="at">mean_sand_all =</span> <span class="fu">mean</span>(total_sand))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-44_8a2e9dc0f427e579838e77f0c83a402f">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 114 × 3
   plot  total_sand mean_sand_all
   &lt;chr&gt;      &lt;dbl&gt;         &lt;dbl&gt;
 1 CSP01       50.1          39.6
 2 CSP01       46.8          39.6
 3 CSP01       46            39.6
 4 CSP01       50.1          39.6
 5 CSP01       53.8          39.6
 6 CSP01       51.9          39.6
 7 CSP08       49.6          39.6
 8 CSP08       49.5          39.6
 9 CSP08       49.2          39.6
10 CSP02       26.0          39.6
# ℹ 104 more rows</code></pre>
</div>
</div>
<blockquote>
<p>Overall mean calculated</p>
</blockquote>
</div><div class="column fragment">
<!-- -->
<h3 id="grouping-via-group_by">Grouping via <code>group_by()</code>:</h3>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-45_6bea71819a42a8819ef5fd3210454383">
<div class="sourceCode cell-code" id="cb57" data-code-line-numbers="2,4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1"></a>size <span class="ot">&lt;-</span> size <span class="sc">|&gt;</span></span>
<span id="cb57-2"><a href="#cb57-2"></a>  <span class="fu">group_by</span>(plot) <span class="sc">|&gt;</span></span>
<span id="cb57-3"><a href="#cb57-3"></a>  <span class="fu">mutate</span>(<span class="at">mean_sand_plot =</span> <span class="fu">mean</span>(total_sand)) <span class="sc">|&gt;</span></span>
<span id="cb57-4"><a href="#cb57-4"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-r.options="{&quot;tibble.print_min&quot;:8}" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-46_dfac8db99b027138e7df02489e220934">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 114 × 3
  plot  total_sand mean_sand_plot
  &lt;chr&gt;      &lt;dbl&gt;          &lt;dbl&gt;
1 CSP01       50.1           49.8
2 CSP01       46.8           49.8
3 CSP01       46             49.8
4 CSP01       50.1           49.8
5 CSP01       53.8           49.8
6 CSP01       51.9           49.8
7 CSP08       49.6           49.4
8 CSP08       49.5           49.4
# ℹ 106 more rows</code></pre>
</div>
</div>
<blockquote>
<p>Mean calculated for each group (i.e.&nbsp;plot)</p>
</blockquote>
</div>
</div>
<p><span class="fragment small note absolute" style="top: 35%; left: 85%; width: 20%; ">Always remember to <strong><code>ungroup()</code></strong> your data!</span></p>
</section>
<section id="section" class="slide level2" data-menu-title="ungroup()" data-background-image="figures/horst_ungroup.png" data-background-size="75%" data-background-position="center">
<h2></h2>
<p><span class="footnote">Artwork by <a href="https://github.com/allisonhorst/stats-illustrations"><span class="citation" data-cites="allison_horst">@allison_horst</span></a></span></p>
</section>
<section id="your-turn-mutating-by-group" class="slide level2">
<h2>Your turn: Mutating by group</h2>
<p>Add a column containing the <strong>mean amount of total silt <em>per</em> plot</strong></p>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-47_a4d4dd4de4b7a8f8e26229afbe6dc32d">
<div class="sourceCode cell-code" id="cb59" data-code-line-numbers="6-8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1"></a>meta <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/grain_meta.csv"</span>)</span>
<span id="cb59-2"><a href="#cb59-2"></a>size <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/grain_size2.csv"</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-3"><a href="#cb59-3"></a>  <span class="fu">left_join</span>(meta, <span class="at">by =</span> <span class="st">"plot"</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-4"><a href="#cb59-4"></a>  <span class="fu">mutate</span>(<span class="at">total_sand =</span> coarse_sand <span class="sc">+</span> medium_sand <span class="sc">+</span> fine_sand,</span>
<span id="cb59-5"><a href="#cb59-5"></a>         <span class="at">total_silt =</span> coarse_silt <span class="sc">+</span> medium_silt <span class="sc">+</span> fine_silt) <span class="sc">|&gt;</span></span>
<span id="cb59-6"><a href="#cb59-6"></a>  ??? <span class="sc">|&gt;</span>   </span>
<span id="cb59-7"><a href="#cb59-7"></a>  ??? <span class="sc">|&gt;</span>   </span>
<span id="cb59-8"><a href="#cb59-8"></a>  ???       </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="your-turn-mutating-by-group-1" class="slide level2" data-visibility="visible">
<h2>Your turn: Mutating by group</h2>
<p>Add a column containing the <strong>mean amount of total silt <em>per</em> plot</strong></p>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-48_ee40f857bd045628e3e2f26359d7103b">
<div class="sourceCode cell-code" id="cb60" data-code-line-numbers="6-8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1"></a>meta <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/grain_meta.csv"</span>)</span>
<span id="cb60-2"><a href="#cb60-2"></a>size <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/grain_size2.csv"</span>) <span class="sc">|&gt;</span></span>
<span id="cb60-3"><a href="#cb60-3"></a>  <span class="fu">left_join</span>(meta, <span class="at">by =</span> <span class="st">"plot"</span>) <span class="sc">|&gt;</span></span>
<span id="cb60-4"><a href="#cb60-4"></a>  <span class="fu">mutate</span>(<span class="at">total_sand =</span> coarse_sand <span class="sc">+</span> medium_sand <span class="sc">+</span> fine_sand,</span>
<span id="cb60-5"><a href="#cb60-5"></a>         <span class="at">total_silt =</span> coarse_silt <span class="sc">+</span> medium_silt <span class="sc">+</span> fine_silt) <span class="sc">|&gt;</span></span>
<span id="cb60-6"><a href="#cb60-6"></a>  <span class="fu">group_by</span>(plot) <span class="sc">|&gt;</span></span>
<span id="cb60-7"><a href="#cb60-7"></a>  <span class="fu">mutate</span>(<span class="at">mean_silt =</span> <span class="fu">mean</span>(total_silt)) <span class="sc">|&gt;</span></span>
<span id="cb60-8"><a href="#cb60-8"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-49_4287085acb2fc812d7e753e42aa2fbb8">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 114 × 6
   plot  coarse_silt medium_silt fine_silt total_silt mean_silt
   &lt;chr&gt;       &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;
 1 CSP01       14.1        11.2       8.17       33.5      29.5
 2 CSP01       14.1        11.7       9.03       34.8      29.5
 3 CSP01       10.3         9.51      7.47       27.3      29.5
 4 CSP01        9.4         9.1       8.7        27.2      29.5
 5 CSP01        9.79        8.79      7.29       25.9      29.5
 6 CSP01       10.8         9.4       8.22       28.4      29.5
 7 CSP08       16.3         9.55      6.23       32.1      32.4
 8 CSP08       14.3        10.4       6.1        30.8      32.4
 9 CSP08       15.1        11.5       7.56       34.2      32.4
10 CSP02       12.0        18.3      15.2        45.4      40.9
# ℹ 104 more rows</code></pre>
</div>
</div>
</section>
<section id="put-it-all-together-1" class="slide level2">
<h2>Put it all together</h2>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-50_ae50e8e56585b699bc8bd4d518cfaeea">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1"></a>meta <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/grain_meta.csv"</span>)</span>
<span id="cb62-2"><a href="#cb62-2"></a>size <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/grain_size2.csv"</span>) <span class="sc">|&gt;</span></span>
<span id="cb62-3"><a href="#cb62-3"></a>  <span class="fu">left_join</span>(meta, <span class="at">by =</span> <span class="st">"plot"</span>) <span class="sc">|&gt;</span></span>
<span id="cb62-4"><a href="#cb62-4"></a>  <span class="fu">mutate</span>(<span class="at">total_sand =</span> coarse_sand <span class="sc">+</span> medium_sand <span class="sc">+</span> fine_sand,</span>
<span id="cb62-5"><a href="#cb62-5"></a>         <span class="at">total_silt =</span> coarse_silt <span class="sc">+</span> medium_silt <span class="sc">+</span> fine_silt) <span class="sc">|&gt;</span></span>
<span id="cb62-6"><a href="#cb62-6"></a>  <span class="fu">group_by</span>(plot) <span class="sc">|&gt;</span></span>
<span id="cb62-7"><a href="#cb62-7"></a>  <span class="fu">mutate</span>(<span class="at">mean_sand =</span> <span class="fu">mean</span>(total_sand),</span>
<span id="cb62-8"><a href="#cb62-8"></a>         <span class="at">mean_silt =</span> <span class="fu">mean</span>(total_silt)) <span class="sc">|&gt;</span> </span>
<span id="cb62-9"><a href="#cb62-9"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<!-- -->
<h3 id="check-it-out">Check it out</h3>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-51_f2315f8a3837758d0fc92a75798594fe">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1"></a><span class="fu">select</span>(size, plot, depth, total_sand, total_silt, mean_sand, mean_silt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 114 × 6
   plot  depth total_sand total_silt mean_sand mean_silt
   &lt;chr&gt; &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
 1 CSP01     4       50.1       33.5      49.8      29.5
 2 CSP01    12       46.8       34.8      49.8      29.5
 3 CSP01    35       46         27.3      49.8      29.5
 4 CSP01    53       50.1       27.2      49.8      29.5
 5 CSP01    83       53.8       25.9      49.8      29.5
 6 CSP01   105       51.9       28.4      49.8      29.5
 7 CSP08    10       49.6       32.1      49.4      32.4
 8 CSP08    27       49.5       30.8      49.4      32.4
 9 CSP08    90       49.2       34.2      49.4      32.4
10 CSP02     5       26.0       45.4      34.7      40.9
# ℹ 104 more rows</code></pre>
</div>
</div>
</div>
</section></section>
<section>
<section id="summarizing" class="title-slide slide level1 center">
<h1>Summarizing</h1>

</section>
<section id="summarizing-by-group" class="slide level2">
<h2>Summarizing by group</h2>
<h3 class="spacer" id="summarize-is-from-dplyr"><code>summarize()</code> is from <code>dplyr</code>*</h3>
<p><span class="footnote">* part of the <code>tidyverse</code></span></p>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-52_4bafc9c2dbb170586fc18531085fe24e">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1"></a><span class="fu">summarize</span>(data, <span class="at">column1 =</span> expression1, <span class="at">column2 =</span> expression2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="spacer">
<ul>
<li><code>tidyverse</code> functions always start with <code>data</code></li>
<li><code>summarize()</code> collapses <code>data</code></li>
<li>Creates new <code>column</code>s</li>
<li>Columns filled according to <code>expression</code></li>
</ul>
</div>
<p><img data-src="figures/hex_dplyr.png" class="absolute" style="top: 0px; right: 0px; width: 20%; "></p>
</section>
<section id="summarizing-by-group-1" class="slide level2">
<h2>Summarizing by group</h2>
<ul>
<li>Similar to <code>mutate()</code>, but <strong>collapses</strong> rows whereas <code>mutate()</code> repeats data</li>
</ul>
<h3 id="mutate"><code>mutate()</code></h3>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-53_6190bbcedcb8cedb9923286dd3676795">
<div class="sourceCode cell-code" id="cb66" data-code-line-numbers="3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1"></a>size <span class="ot">&lt;-</span> size <span class="sc">|&gt;</span></span>
<span id="cb66-2"><a href="#cb66-2"></a>  <span class="fu">group_by</span>(plot) <span class="sc">|&gt;</span></span>
<span id="cb66-3"><a href="#cb66-3"></a>  <span class="fu">mutate</span>(<span class="at">mean_sand =</span> <span class="fu">mean</span>(total_sand)) <span class="sc">|&gt;</span></span>
<span id="cb66-4"><a href="#cb66-4"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb66-5"><a href="#cb66-5"></a></span>
<span id="cb66-6"><a href="#cb66-6"></a><span class="fu">select</span>(size, plot, <span class="fu">contains</span>(<span class="st">"sand"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 114 × 6
   plot  coarse_sand medium_sand fine_sand total_sand mean_sand
   &lt;chr&gt;       &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;
 1 CSP01       13.0        17.4      19.7        50.1      49.8
 2 CSP01       10.7        16.9      19.2        46.8      49.8
 3 CSP01       12.1        17.8      16.1        46        49.8
 4 CSP01       17.6        18.2      14.3        50.1      49.8
 5 CSP01       21.0        18.4      14.3        53.8      49.8
 6 CSP01       19.0        18.4      14.4        51.9      49.8
 7 CSP08       11.6        17.1      20.8        49.6      49.4
 8 CSP08       15.4        16.2      17.8        49.5      49.4
 9 CSP08       14.9        15.8      18.6        49.2      49.4
10 CSP02        8.75        8.64      8.66       26.0      34.7
# ℹ 104 more rows</code></pre>
</div>
</div>
<p><span class="note absolute" style="left: 68%; bottom: 20%; ">Repeated values</span></p>
</section>
<section id="summarizing-by-group-2" class="slide level2">
<h2>Summarizing by group</h2>
<ul>
<li>Similar to <code>mutate()</code>, but <strong>collapses</strong> rows whereas <code>mutate()</code> repeats data</li>
</ul>
<h3 id="summarize"><code>summarize()</code></h3>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-54_f2e18e1f0890b7d76c420ef93c7b7609">
<div class="sourceCode cell-code" id="cb68" data-code-line-numbers="3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1"></a>size <span class="ot">&lt;-</span> size <span class="sc">|&gt;</span></span>
<span id="cb68-2"><a href="#cb68-2"></a>  <span class="fu">group_by</span>(plot) <span class="sc">|&gt;</span></span>
<span id="cb68-3"><a href="#cb68-3"></a>  <span class="fu">summarize</span>(<span class="at">mean_sand =</span> <span class="fu">mean</span>(total_sand), <span class="at">.groups =</span> <span class="st">"drop"</span>)   <span class="co"># Ungroup data</span></span>
<span id="cb68-4"><a href="#cb68-4"></a></span>
<span id="cb68-5"><a href="#cb68-5"></a>size</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 27 × 2
   plot  mean_sand
   &lt;chr&gt;     &lt;dbl&gt;
 1 CSP01      49.8
 2 CSP02      34.7
 3 CSP03      29.9
 4 CSP04      30.3
 5 CSP05      44.6
 6 CSP06      37.8
 7 CSP07      36.6
 8 CSP08      49.4
 9 CSP09      37.9
10 CSP10      34.6
# ℹ 17 more rows</code></pre>
</div>
</div>
<p><span class="note absolute" style="left: 75%; bottom: 25%; "><strong>Note:</strong><br>Drops unused columns</span></p>
</section>
<section id="summarizing-by-group-3" class="slide level2">
<h2>Summarizing by group</h2>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-55_ade3ef442a0c51e2f9810facdc6518b9">

</div>
<ul>
<li>Keep other id columns by adding them to <code>group_by()</code></li>
<li>Beware: think carefully about grouping variables!</li>
</ul>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-56_cce8eb97d59ec485bc79a5c11b73fab4">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1"></a>size <span class="sc">|&gt;</span> </span>
<span id="cb70-2"><a href="#cb70-2"></a>  <span class="fu">group_by</span>(plot, depth) <span class="sc">|&gt;</span></span>
<span id="cb70-3"><a href="#cb70-3"></a>  <span class="fu">summarize</span>(<span class="at">mean_sand =</span> <span class="fu">mean</span>(total_sand), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 114 × 3
   plot  depth mean_sand
   &lt;chr&gt; &lt;dbl&gt;     &lt;dbl&gt;
 1 CSP01     4      50.1
 2 CSP01    12      46.8
 3 CSP01    35      46  
 4 CSP01    53      50.1
 5 CSP01    83      53.8
 6 CSP01   105      51.9
 7 CSP02     5      26.0
 8 CSP02    11      26.9
 9 CSP02    36      25.9
10 CSP02    56      28.7
# ℹ 104 more rows</code></pre>
</div>
</div>
<blockquote>
<p><code>depth</code> is not a category, therefore not an appropriate grouping factor</p>
</blockquote>
</section>
<section id="summarizing-by-group-4" class="slide level2">
<h2>Summarizing by group</h2>
<ul>
<li>Use true groups of interest (e.g., Sex, Age)</li>
<li>Or use factors which are on the same level (e.g., ID columns)</li>
</ul>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-57_9b0697e6321c42c17ef99a1047f12150">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1"></a>size <span class="sc">|&gt;</span> </span>
<span id="cb72-2"><a href="#cb72-2"></a>  <span class="fu">group_by</span>(plot, habitat) <span class="sc">|&gt;</span></span>
<span id="cb72-3"><a href="#cb72-3"></a>  <span class="fu">summarize</span>(<span class="at">mean_sand =</span> <span class="fu">mean</span>(total_sand), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 27 × 3
   plot  habitat   mean_sand
   &lt;chr&gt; &lt;chr&gt;         &lt;dbl&gt;
 1 CSP01 forest         49.8
 2 CSP02 forest         34.7
 3 CSP03 clearcut       29.9
 4 CSP04 forest         30.3
 5 CSP05 grassland      44.6
 6 CSP06 grassland      37.8
 7 CSP07 grassland      36.6
 8 CSP08 grassland      49.4
 9 CSP09 forest         37.9
10 CSP10 grassland      34.6
# ℹ 17 more rows</code></pre>
</div>
</div>
<blockquote>
<p>Better: <code>habitat</code> varies with <code>plot</code> (alternatively could have Joined later)</p>
</blockquote>
</section>
<section id="summarizing-by-group-5" class="slide level2">
<h2>Summarizing by group</h2>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-58_34617c1fcd2636e9e432c4d0dbc09dc5">

</div>
<p>Summarizing is an excellent way to calculate statistics to describe your data</p>
<ul>
<li>sample sizes (<code>n()</code>)</li>
<li>means (<code>mean()</code>)</li>
<li>standard deviations (<code>sd()</code>)</li>
<li>standard errors (<code>sd()</code> / <code>sqrt(n())</code>)</li>
<li>total values (<code>sum()</code>)</li>
<li>total counts (<code>n()</code>)</li>
</ul>
</section>
<section id="summarizing-by-group-6" class="slide level2">
<h2>Summarizing by group</h2>
<h3 class="spacer" id="n-is-from-dplyr"><code>n()</code> is from <code>dplyr</code>*</h3>
<p><span class="footnote">* part of the <code>tidyverse</code></span></p>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-59_a36c583737eddcc5de2b2223d506099a">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1"></a><span class="fu">n</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="spacer">
<ul>
<li><em>Helper</em> <code>tidyverse</code> function which <strong>does NOT</strong> start with data</li>
<li>Returns row counts according to groups (if present)</li>
<li>Can only be used <em>inside</em> <code>mutate()</code> or <code>summarize()</code></li>
</ul>
</div>
<p><img data-src="figures/hex_dplyr.png" class="absolute" style="top: 0px; right: 0px; width: 20%; "></p>
<p><strong>For example…</strong></p>
<div class="columns">
<div class="column">
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/n_24a3fb357cec452ddb3257e0b501c0c7">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1"></a>size <span class="sc">|&gt;</span></span>
<span id="cb75-2"><a href="#cb75-2"></a>  <span class="fu">group_by</span>(plot) <span class="sc">|&gt;</span></span>
<span id="cb75-3"><a href="#cb75-3"></a>  <span class="fu">summarize</span>(<span class="at">samples_total =</span> <span class="fu">n</span>(), </span>
<span id="cb75-4"><a href="#cb75-4"></a>            <span class="at">.groups =</span> <span class="st">"drop"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column">
<div class="cell" data-r.options="{&quot;tibble.print_max&quot;:8,&quot;tibble.print_min&quot;:8}" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-60_67fc1ba4c4a9d7a82a33ab47d86304a8">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 27 × 2
  plot  samples_total
  &lt;chr&gt;         &lt;int&gt;
1 CSP01             6
2 CSP02             7
3 CSP03             4
4 CSP04             5
5 CSP05             5
6 CSP06             5
7 CSP07             3
8 CSP08             3
# ℹ 19 more rows</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="your-turn-calculate-summary-statistics" class="slide level2">
<h2>Your Turn: Calculate summary statistics</h2>
<h3 id="for-each-plot-and-habitat-calculate">For each plot and habitat, calculate</h3>
<ul>
<li>sample sizes with <code>n()</code></li>
<li>means for <strong>total_sand</strong> and <strong>total_silt</strong> with <code>mean()</code></li>
<li>standard deviations for <strong>total_sand</strong> and <strong>total_silt</strong> with <code>sd()</code></li>
<li>standard errors for <strong>total_sand</strong> and <strong>total_silt</strong> with <code>sd()</code>/<code>sqrt(n())</code></li>
</ul>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-61_9f749b5a02636d7186f4354b8ef40176">
<div class="sourceCode cell-code" id="cb77" data-code-line-numbers="9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1"></a>meta <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/grain_meta.csv"</span>)</span>
<span id="cb77-2"><a href="#cb77-2"></a>size <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/grain_size2.csv"</span>) <span class="sc">|&gt;</span></span>
<span id="cb77-3"><a href="#cb77-3"></a>  <span class="fu">left_join</span>(meta, <span class="at">by =</span> <span class="st">"plot"</span>) <span class="sc">|&gt;</span></span>
<span id="cb77-4"><a href="#cb77-4"></a>  <span class="fu">mutate</span>(<span class="at">total_sand =</span> coarse_sand <span class="sc">+</span> medium_sand <span class="sc">+</span> fine_sand,</span>
<span id="cb77-5"><a href="#cb77-5"></a>         <span class="at">total_silt =</span> coarse_silt <span class="sc">+</span> medium_silt <span class="sc">+</span> fine_silt)</span>
<span id="cb77-6"><a href="#cb77-6"></a></span>
<span id="cb77-7"><a href="#cb77-7"></a>size_sum <span class="ot">&lt;-</span> size <span class="sc">|&gt;</span></span>
<span id="cb77-8"><a href="#cb77-8"></a>  <span class="fu">group_by</span>(plot, habitat) <span class="sc">|&gt;</span></span>
<span id="cb77-9"><a href="#cb77-9"></a>  ???</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><span class="note absolute" style="bottom: -5%; "><strong>Too Easy?</strong><br>Calculate summary statistics for your own data</span></p>
</section>
<section id="your-turn-calculate-summary-statistics-1" class="slide level2" data-visibility="visible">
<h2>Your Turn: Calculate summary statistics</h2>
<h3 id="for-each-plot-and-habitat-calculate-1">For each plot and habitat, calculate</h3>
<ul>
<li>sample sizes with <code>n()</code></li>
<li>means for <strong>total_sand</strong> and <strong>total_silt</strong> with <code>mean()</code></li>
<li>standard deviations for <strong>total_sand</strong> and <strong>total_silt</strong> with <code>sd()</code></li>
<li>standard errors for <strong>total_sand</strong> and <strong>total_silt</strong> with <code>sd()</code>/<code>sqrt(n())</code></li>
</ul>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-62_67a37a4269af64964bd1446cbc081d43">
<div class="sourceCode cell-code" id="cb78" data-code-line-numbers="9-15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1"></a>meta <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/grain_meta.csv"</span>)</span>
<span id="cb78-2"><a href="#cb78-2"></a>size <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/grain_size2.csv"</span>) <span class="sc">|&gt;</span></span>
<span id="cb78-3"><a href="#cb78-3"></a>  <span class="fu">left_join</span>(meta, <span class="at">by =</span> <span class="st">"plot"</span>) <span class="sc">|&gt;</span></span>
<span id="cb78-4"><a href="#cb78-4"></a>  <span class="fu">mutate</span>(<span class="at">total_sand =</span> coarse_sand <span class="sc">+</span> medium_sand <span class="sc">+</span> fine_sand,</span>
<span id="cb78-5"><a href="#cb78-5"></a>         <span class="at">total_silt =</span> coarse_silt <span class="sc">+</span> medium_silt <span class="sc">+</span> fine_silt)</span>
<span id="cb78-6"><a href="#cb78-6"></a></span>
<span id="cb78-7"><a href="#cb78-7"></a>size_sum <span class="ot">&lt;-</span> size <span class="sc">|&gt;</span></span>
<span id="cb78-8"><a href="#cb78-8"></a>  <span class="fu">group_by</span>(plot, habitat) <span class="sc">|&gt;</span></span>
<span id="cb78-9"><a href="#cb78-9"></a>  <span class="fu">summarize</span>(<span class="at">sample_size =</span> <span class="fu">n</span>(),                         </span>
<span id="cb78-10"><a href="#cb78-10"></a>            <span class="at">mean_sand =</span> <span class="fu">mean</span>(total_sand),          </span>
<span id="cb78-11"><a href="#cb78-11"></a>            <span class="at">sd_sand =</span> <span class="fu">sd</span>(total_sand),              </span>
<span id="cb78-12"><a href="#cb78-12"></a>            <span class="at">se_sand =</span> sd_sand <span class="sc">/</span> <span class="fu">sqrt</span>(sample_size),     </span>
<span id="cb78-13"><a href="#cb78-13"></a>            <span class="at">mean_silt =</span> <span class="fu">mean</span>(total_silt),          </span>
<span id="cb78-14"><a href="#cb78-14"></a>            <span class="at">sd_silt =</span> <span class="fu">sd</span>(total_silt),              </span>
<span id="cb78-15"><a href="#cb78-15"></a>            <span class="at">se_silt =</span> sd_silt <span class="sc">/</span> <span class="fu">sqrt</span>(sample_size))     </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="your-turn-calculate-summary-statistics-2" class="slide level2" data-visibility="visible">
<h2>Your Turn: Calculate summary statistics</h2>
<h3 id="check-your-work">Check your work</h3>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-63_c0d48134ef74bfef6433c27b5ad1dad0">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1"></a>size_sum</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 27 × 9
# Groups:   plot [27]
   plot  habitat   sample_size mean_sand sd_sand se_sand mean_silt sd_silt se_silt
   &lt;chr&gt; &lt;chr&gt;           &lt;int&gt;     &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
 1 CSP01 forest              6      49.8   2.96    1.21       29.5   3.72    1.52 
 2 CSP02 forest              7      34.7  10.8     4.06       40.9   4.29    1.62 
 3 CSP03 clearcut            4      29.9   4.89    2.45       43.6   3.25    1.63 
 4 CSP04 forest              5      30.3   2.18    0.973      43.0   0.544   0.243
 5 CSP05 grassland           5      44.6   5.52    2.47       31.8   1.81    0.811
 6 CSP06 grassland           5      37.8   4.10    1.83       48.1   3.32    1.49 
 7 CSP07 grassland           3      36.6   7.30    4.21       39.8   1.05    0.609
 8 CSP08 grassland           3      49.4   0.176   0.102      32.4   1.73    0.998
 9 CSP09 forest              5      37.9   2.98    1.33       38.4   1.17    0.524
10 CSP10 grassland           3      34.6   9.71    5.61       44.1   5.41    3.13 
# ℹ 17 more rows</code></pre>
</div>
</div>
</section></section>
<section>
<section id="transposing" class="title-slide slide level1 center">
<h1>Transposing</h1>
<p><span class="large">Let’s talk about tidy data</span></p>
<div class="small" style="color:grey;margin-top:100px">
<p>Upcoming illustrations from the <a href="https://www.openscapes.org/">Openscapes</a> blog <a href="https://www.openscapes.org/blog/2020/10/12/tidy-data/"><em>Tidy Data for reproducibility, efficiency, and collaboration</em></a><br>by Julia Lowndes and Allison Horst</p>
</div>
</section>
<section id="section-1" class="slide level2" data-menu-title="Tidy Data" data-background-image="figures/horst_tidydata1.jpg">
<h2></h2>
</section>
<section id="section-2" class="slide level2" data-menu-title="Tidy Data">
<h2></h2>
<h3 id="tidy-data">Tidy Data</h3>
<div class="columns">
<div class="column" style="width:60%;">
<table>
<thead>
<tr class="header">
<th>id</th>
<th>name</th>
<th>colour</th>
<th>age</th>
<th>mass (lb)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>floof</td>
<td>grey</td>
<td>10</td>
<td>7</td>
</tr>
<tr class="even">
<td>1</td>
<td>floof</td>
<td>grey</td>
<td>12</td>
<td>7.5</td>
</tr>
<tr class="odd">
<td>2</td>
<td>max</td>
<td>black</td>
<td>1</td>
<td>5</td>
</tr>
<tr class="even">
<td>2</td>
<td>max</td>
<td>black</td>
<td>2</td>
<td>6</td>
</tr>
<tr class="odd">
<td>3</td>
<td>cat</td>
<td>orange</td>
<td>5</td>
<td>10</td>
</tr>
<tr class="even">
<td>3</td>
<td>cat</td>
<td>orange</td>
<td>7</td>
<td>12</td>
</tr>
</tbody>
</table>
<h3 id="un-tidy">Un-tidy</h3>
<table>
<thead>
<tr class="header">
<th>id</th>
<th>name</th>
<th>colour</th>
<th>age1</th>
<th>mass1</th>
<th>age2</th>
<th>mass2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>floof</td>
<td>grey</td>
<td>10</td>
<td>7</td>
<td>12</td>
<td>7.5</td>
</tr>
<tr class="even">
<td>2</td>
<td>max</td>
<td>black</td>
<td>1</td>
<td>5</td>
<td>2</td>
<td>6</td>
</tr>
<tr class="odd">
<td>3</td>
<td>cat</td>
<td>orange</td>
<td>5</td>
<td>10</td>
<td>7</td>
<td>12</td>
</tr>
</tbody>
</table>
</div><div class="column">
<p><span class="note absolute" style="left: 65%; bottom: 50%; "><strong>Long data</strong><br>One measurement per row</span></p>
<p><span class="note absolute" style="left: 75%; bottom: 0px; "><strong>Wide data</strong><br>Several measurements per row</span></p>
</div>
</div>
</section>
<section id="section-3" class="slide level2" data-menu-title="Tidy Data" data-background-image="figures/horst_tidydata2.jpg">
<h2></h2>
</section>
<section id="tidy-data-1" class="slide level2">
<h2>Tidy Data</h2>
<h3 id="un-tidy-wide">Un-Tidy (wide)</h3>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-64_be9c77a52fd983a9a44959799cbe10be">
<div class="cell-output-display">
<table>
<thead>
<tr class="header">
<th style="text-align: left;">country</th>
<th style="text-align: right;">1999</th>
<th style="text-align: right;">2000</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: right;">745</td>
<td style="text-align: right;">2666</td>
</tr>
<tr class="even">
<td style="text-align: left;">Brazil</td>
<td style="text-align: right;">37737</td>
<td style="text-align: right;">80488</td>
</tr>
<tr class="odd">
<td style="text-align: left;">China</td>
<td style="text-align: right;">212258</td>
<td style="text-align: right;">213766</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="why-do-we-care" class="slide level2" data-background-image="figures/horst_tidydata3.jpg">
<h2>Why do we care?</h2>
</section>
<section id="why-do-we-care-1" class="slide level2">
<h2>Why do we care?</h2>
<h3 id="how-would-you-plot-the-untidy-data">How would you plot the untidy data?</h3>
<p>(No.&nbsp;of cases by country for each year)</p>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-65_2798c3a8ca5e4df2a3bb39d5de8baf2a">
<div class="sourceCode cell-code" id="cb81" data-code-line-numbers="1-2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> table4a, <span class="fu">aes</span>(<span class="at">x =</span> ???, <span class="at">y =</span> ???)) <span class="sc">+</span> </span>
<span id="cb81-2"><a href="#cb81-2"></a>  ???                                           </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Note</strong></p>
<ul>
<li><code>table4a</code> is a built-in data frame</li>
<li>Type <code>table4a</code> in the console to take a look</li>
<li>Type <code>?table4a</code> to pull up the help file with information</li>
</ul>
</section>
<section id="why-do-we-care-2" class="slide level2">
<h2>Why do we care?</h2>
<h3 id="with-un-tidy-data">With un-tidy data</h3>
<div class="columns small">
<div class="column">
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-66_cd977b8dc0f1a600af8c7e9a9b2bf73b">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> table4a, <span class="fu">aes</span>(<span class="at">x =</span> country, <span class="at">y =</span> <span class="st">`</span><span class="at">1999</span><span class="st">`</span>)) <span class="sc">+</span></span>
<span id="cb82-2"><a href="#cb82-2"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">fill =</span> <span class="st">"blue"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="4_summarizing_and_transforming_files/figure-revealjs/unnamed-chunk-66-1.png" width="1400"></p>
</div>
</div>
</div><div class="column">
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-67_b134edc39f935f3ca2310965c46b9253">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> table4a, <span class="fu">aes</span>(<span class="at">x =</span> country, <span class="at">y =</span> <span class="st">`</span><span class="at">2000</span><span class="st">`</span>)) <span class="sc">+</span></span>
<span id="cb83-2"><a href="#cb83-2"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">fill =</span> <span class="st">"red"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="4_summarizing_and_transforming_files/figure-revealjs/unnamed-chunk-67-1.png" width="1400"></p>
</div>
</div>
</div>
</div>
</section>
<section id="why-do-we-care-3" class="slide level2">
<h2>Why do we care?</h2>
<h3 id="with-tidy-data">With tidy data</h3>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-68_6ac1eae2c51a7c3e6e1f4c622b0fec97">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> table1, <span class="fu">aes</span>(<span class="at">x =</span> country, <span class="at">y =</span> cases, <span class="at">fill =</span> <span class="fu">factor</span>(year))) <span class="sc">+</span></span>
<span id="cb84-2"><a href="#cb84-2"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="4_summarizing_and_transforming_files/figure-revealjs/unnamed-chunk-68-1.png" width="1400" class="r-stretch"></section>
<section id="why-do-we-care-4" class="slide level2">
<h2>Why do we care?</h2>
<h3 id="with-tidy-data-1">With tidy data</h3>
<div class="columns small">
<div class="column">
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-69_2c07e6f993434c6c4669cc9843accf84">
<div class="sourceCode cell-code" id="cb85" data-code-line-numbers="2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> table1, </span>
<span id="cb85-2"><a href="#cb85-2"></a>       <span class="fu">aes</span>(<span class="at">x =</span> country, <span class="at">y =</span> cases, <span class="at">fill =</span> <span class="fu">factor</span>(year))) <span class="sc">+</span></span>
<span id="cb85-3"><a href="#cb85-3"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="4_summarizing_and_transforming_files/figure-revealjs/unnamed-chunk-69-1.png" width="1400"></p>
</div>
</div>
</div><div class="column">
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-70_7bfa6f10501ffe15fa9382297885b997">
<div class="sourceCode cell-code" id="cb86" data-code-line-numbers="2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> table1, </span>
<span id="cb86-2"><a href="#cb86-2"></a>       <span class="fu">aes</span>(<span class="at">x =</span> country, <span class="at">y =</span> cases, <span class="at">fill =</span> <span class="fu">factor</span>(year))) <span class="sc">+</span></span>
<span id="cb86-3"><a href="#cb86-3"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>) <span class="sc">+</span> <span class="fu">facet_wrap</span>(<span class="sc">~</span>year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="4_summarizing_and_transforming_files/figure-revealjs/unnamed-chunk-70-1.png" width="1400"></p>
</div>
</div>
</div>
</div>
</section>
<section id="going-long" class="slide level2">
<h2>Going long</h2>
<h3 id="pivot_longer"><code>pivot_longer()</code></h3>

<img data-src="figures/pivot_longer.png" class="r-stretch"><p><span class="footnote"><a href="http://r4ds.had.co.nz/">R for Data Science</a></span></p>
</section>
<section id="going-long-1" class="slide level2">
<h2>Going long</h2>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-71_d4b38a27ba9834fafac3eaf881074e72">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1"></a>size_long <span class="ot">&lt;-</span> size <span class="sc">|&gt;</span></span>
<span id="cb87-2"><a href="#cb87-2"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(<span class="sc">-</span>plot, <span class="sc">-</span>depth, <span class="sc">-</span>habitat, <span class="sc">-</span>technician, <span class="sc">-</span>date),</span>
<span id="cb87-3"><a href="#cb87-3"></a>               <span class="at">names_to =</span> <span class="st">"type"</span>, <span class="at">values_to =</span> <span class="st">"amount"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="columns">
<div class="column" style="width:55%;">
<h4 id="from-wide">From wide …</h4>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-72_c03badb8d19fc55bf846651a94e78b8e">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 114 × 6
   plot  depth coarse_silt medium_silt fine_silt total_silt
   &lt;chr&gt; &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;
 1 CSP01     4       14.1        11.2       8.17       33.5
 2 CSP01    12       14.1        11.7       9.03       34.8
 3 CSP01    35       10.3         9.51      7.47       27.3
 4 CSP01    53        9.4         9.1       8.7        27.2
 5 CSP01    83        9.79        8.79      7.29       25.9
 6 CSP01   105       10.8         9.4       8.22       28.4
 7 CSP08    10       16.3         9.55      6.23       32.1
 8 CSP08    27       14.3        10.4       6.1        30.8
 9 CSP08    90       15.1        11.5       7.56       34.2
10 CSP02     5       12.0        18.3      15.2        45.4
# ℹ 104 more rows</code></pre>
</div>
</div>
</div><div class="column fragment" style="width:45%;">
<!-- -->
<h4 id="to-long">… to long</h4>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-73_05d944a41cc1deb5b361f914bbeb71e3">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 456 × 4
   plot  depth type        amount
   &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;        &lt;dbl&gt;
 1 CSP01     4 coarse_silt  14.1 
 2 CSP01     4 medium_silt  11.2 
 3 CSP01     4 fine_silt     8.17
 4 CSP01     4 total_silt   33.5 
 5 CSP01    12 coarse_silt  14.1 
 6 CSP01    12 medium_silt  11.7 
 7 CSP01    12 fine_silt     9.03
 8 CSP01    12 total_silt   34.8 
 9 CSP01    35 coarse_silt  10.3 
10 CSP01    35 medium_silt   9.51
# ℹ 446 more rows</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="going-long-2" class="slide level2">
<h2>Going long</h2>
<h3 class="spacer" id="pivot_longer-is-from-tidyr"><code>pivot_longer()</code> is from <code>tidyr</code>*</h3>
<p><span class="footnote">* part of the <code>tidyverse</code></span></p>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/pivot_longer_a9dab61608923903b8bde893ba8606b1">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1"></a><span class="fu">pivot_longer</span>(data, <span class="at">cols =</span> <span class="fu">c</span>(column1, column2),</span>
<span id="cb90-2"><a href="#cb90-2"></a>             <span class="at">names_to =</span> <span class="st">"new_categorical_column"</span>,</span>
<span id="cb90-3"><a href="#cb90-3"></a>             <span class="at">values_to =</span> <span class="st">"new_numerical_column"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="spacer">
<ul>
<li><code>tidyverse</code> functions always start with <code>data</code></li>
<li>Takes columns and converts to long data</li>
<li>Column names (<code>column1</code> and <code>column2</code>) go into “new_categorical_column”</li>
<li>Column values (<em>contents</em> of <code>column1</code> and <code>column2</code>) go into “new_numerical_column”</li>
</ul>
</div>
<p><img data-src="figures/hex_tidyr.png" class="absolute" style="top: 0px; right: 0px; width: 20%; "></p>
</section>
<section id="going-long-3" class="slide level2">
<h2>Going long</h2>
<h3 class="spacer" id="pivot_longer-is-from-tidyr-1"><code>pivot_longer()</code> is from <code>tidyr</code>*</h3>
<p><span class="footnote">* part of the <code>tidyverse</code></span></p>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-74_57a427a0eb1068b3a6fb42c3833e5cb0">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1"></a><span class="fu">pivot_longer</span>(data, <span class="at">cols =</span> <span class="fu">c</span>(column1, column2),</span>
<span id="cb91-2"><a href="#cb91-2"></a>             <span class="at">names_to =</span> <span class="st">"new_categorical_column"</span>,</span>
<span id="cb91-3"><a href="#cb91-3"></a>             <span class="at">values_to =</span> <span class="st">"new_numerical_column"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<h3 id="in-our-example">In our example:</h3>
<ul>
<li><strong>data</strong> = <code>size</code><br>
</li>
<li><strong>cols</strong> = <code>c(-plot, -depth, -habitat, -technician, -date)</code>
<ul>
<li>Here, easiest to exclude columns</li>
</ul></li>
<li><strong>names_to</strong> = <code>"type"</code><br>
</li>
<li><strong>values_to</strong> = <code>"amount"</code></li>
</ul>
<p><img data-src="figures/hex_tidyr.png" class="absolute" style="top: 0px; right: 0px; width: 20%; "></p>
</section>
<section id="going-long-4" class="slide level2">
<h2>Going long</h2>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-75_6c2f69bd28a5f5748ae7a61ae615d87a">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1"></a>size_long <span class="ot">&lt;-</span> <span class="fu">pivot_longer</span>(size, <span class="at">cols =</span> <span class="fu">c</span>(<span class="sc">-</span>plot, <span class="sc">-</span>depth, <span class="sc">-</span>habitat, <span class="sc">-</span>technician, <span class="sc">-</span>date),</span>
<span id="cb92-2"><a href="#cb92-2"></a>                          <span class="at">names_to =</span> <span class="st">"type"</span>, <span class="at">values_to =</span> <span class="st">"amount"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-r.options="{&quot;tibble.print_max&quot;:12,&quot;tibble.print_min&quot;:12}" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-76_a996c4a45433b3b4652f3ead1468c7d4">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,026 × 7
   plot  depth habitat technician date       type        amount
   &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;      &lt;date&gt;     &lt;chr&gt;        &lt;dbl&gt;
 1 CSP01     4 forest  Catharine  2009-04-23 coarse_sand  13.0 
 2 CSP01     4 forest  Catharine  2009-04-23 medium_sand  17.4 
 3 CSP01     4 forest  Catharine  2009-04-23 fine_sand    19.7 
 4 CSP01     4 forest  Catharine  2009-04-23 coarse_silt  14.1 
 5 CSP01     4 forest  Catharine  2009-04-23 medium_silt  11.2 
 6 CSP01     4 forest  Catharine  2009-04-23 fine_silt     8.17
 7 CSP01     4 forest  Catharine  2009-04-23 clay         16.3 
 8 CSP01     4 forest  Catharine  2009-04-23 total_sand   50.1 
 9 CSP01     4 forest  Catharine  2009-04-23 total_silt   33.5 
10 CSP01    12 forest  Catharine  2009-04-23 coarse_sand  10.7 
11 CSP01    12 forest  Catharine  2009-04-23 medium_sand  16.9 
12 CSP01    12 forest  Catharine  2009-04-23 fine_sand    19.2 
# ℹ 1,014 more rows</code></pre>
</div>
</div>
</section>
<section id="your-turn-lengthen-data" class="slide level2">
<h2>Your turn: Lengthen data</h2>
<ul>
<li>We’ll first create a summary dataset for sand variables</li>
</ul>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-77_025895149971ab10fc15f76ae579008e">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1"></a>sand_sum <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/grain_size2.csv"</span>) <span class="sc">|&gt;</span></span>
<span id="cb94-2"><a href="#cb94-2"></a>  <span class="fu">mutate</span>(<span class="at">total_sand =</span> coarse_sand <span class="sc">+</span> medium_sand <span class="sc">+</span> fine_sand) <span class="sc">|&gt;</span></span>
<span id="cb94-3"><a href="#cb94-3"></a>  <span class="fu">group_by</span>(plot) <span class="sc">|&gt;</span></span>
<span id="cb94-4"><a href="#cb94-4"></a>  <span class="fu">summarize</span>(<span class="at">sample_size =</span> <span class="fu">n</span>(),</span>
<span id="cb94-5"><a href="#cb94-5"></a>            <span class="at">mean_sand =</span> <span class="fu">mean</span>(total_sand),</span>
<span id="cb94-6"><a href="#cb94-6"></a>            <span class="at">sd_sand =</span> <span class="fu">sd</span>(total_sand),</span>
<span id="cb94-7"><a href="#cb94-7"></a>            <span class="at">se_sand =</span> sd_sand <span class="sc">/</span> <span class="fu">sqrt</span>(sample_size))</span>
<span id="cb94-8"><a href="#cb94-8"></a></span>
<span id="cb94-9"><a href="#cb94-9"></a>sand_sum</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 27 × 5
   plot  sample_size mean_sand sd_sand se_sand
   &lt;chr&gt;       &lt;int&gt;     &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
 1 CSP01           6      49.8   2.96    1.21 
 2 CSP02           7      34.7  10.8     4.06 
 3 CSP03           4      29.9   4.89    2.45 
 4 CSP04           5      30.3   2.18    0.973
 5 CSP05           5      44.6   5.52    2.47 
 6 CSP06           5      37.8   4.10    1.83 
 7 CSP07           3      36.6   7.30    4.21 
 8 CSP08           3      49.4   0.176   0.102
 9 CSP09           5      37.9   2.98    1.33 
10 CSP10           3      34.6   9.71    5.61 
# ℹ 17 more rows</code></pre>
</div>
</div>
</section>
<section id="your-turn-lengthen-data-1" class="slide level2">
<h2>Your turn: Lengthen data</h2>
<ul>
<li>Gather all variables except <code>plot</code> and <code>sample_size</code> into a long format</li>
</ul>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-78_fda34acba9a0523c8fb9ed009c334df2">
<div class="sourceCode cell-code" id="cb96" data-code-line-numbers="2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1"></a>sand_long <span class="ot">&lt;-</span> <span class="fu">pivot_longer</span>(sand_sum, </span>
<span id="cb96-2"><a href="#cb96-2"></a>                          ???)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="your-turn-lengthen-data-2" class="slide level2" data-visibility="visible">
<h2>Your turn: Lengthen data</h2>
<ul>
<li>Gather all variables except <code>plot</code> and <code>sample_size</code> into a long format</li>
</ul>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-79_c657c603955a1c5eeb8cc5a0b215b63d">
<div class="sourceCode cell-code" id="cb97" data-code-line-numbers="2-4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1"></a>sand_long <span class="ot">&lt;-</span> <span class="fu">pivot_longer</span>(sand_sum, </span>
<span id="cb97-2"><a href="#cb97-2"></a>                          <span class="at">cols =</span> <span class="fu">contains</span>(<span class="st">"sand"</span>),  </span>
<span id="cb97-3"><a href="#cb97-3"></a>                          <span class="at">names_to =</span> <span class="st">"type"</span>,    </span>
<span id="cb97-4"><a href="#cb97-4"></a>                          <span class="at">values_to =</span> <span class="st">"amount"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="columns">
<div class="column" style="width:45%;">
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-80_66f4889d584c0120a2f4008f7d00e3f3">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 81 × 4
   plot  sample_size type      amount
   &lt;chr&gt;       &lt;int&gt; &lt;chr&gt;      &lt;dbl&gt;
 1 CSP01           6 mean_sand  49.8 
 2 CSP01           6 sd_sand     2.96
 3 CSP01           6 se_sand     1.21
 4 CSP02           7 mean_sand  34.7 
 5 CSP02           7 sd_sand    10.8 
 6 CSP02           7 se_sand     4.06
 7 CSP03           4 mean_sand  29.9 
 8 CSP03           4 sd_sand     4.89
 9 CSP03           4 se_sand     2.45
10 CSP04           5 mean_sand  30.3 
# ℹ 71 more rows</code></pre>
</div>
</div>
</div><div class="column fragment" style="width:55%;">
<p><strong>Remember tidy selectors!</strong></p>
<p>Could also use…</p>
<ul>
<li><code>cols = ends_with("sand")</code></li>
<li><code>cols = c(mean_sand, sd_sand, se_sand)</code></li>
<li><code>cols = c(-plot, -sample_size)</code></li>
</ul>
</div>
</div>
</section>
<section id="going-wide" class="slide level2">
<h2>Going wide</h2>
<h3 id="pivot_wider"><code>pivot_wider()</code></h3>

<img data-src="figures/pivot_wider.png" class="r-stretch"><p><span class="footnote"><a href="http://r4ds.had.co.nz/">R for Data Science</a></span></p>
</section>
<section id="going-wide-1" class="slide level2">
<h2>Going wide</h2>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-81_08207ce996a552338fc42dd713e20705">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1"></a>size_long <span class="ot">&lt;-</span> size <span class="sc">|&gt;</span></span>
<span id="cb99-2"><a href="#cb99-2"></a>  <span class="fu">pivot_longer</span>(<span class="at">names_to =</span> <span class="st">"type"</span>, <span class="at">values_to =</span> <span class="st">"amount"</span>, </span>
<span id="cb99-3"><a href="#cb99-3"></a>               <span class="at">cols =</span> <span class="fu">c</span>(<span class="sc">-</span>plot, <span class="sc">-</span>depth, <span class="sc">-</span>habitat, <span class="sc">-</span>technician, <span class="sc">-</span>date))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="columns">
<div class="column" style="width:45%;">
<h4 id="from-long">From long …</h4>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-82_cb7b0729b5069a7d87d46d903474879a">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 456 × 4
   plot  depth type        amount
   &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;        &lt;dbl&gt;
 1 CSP01     4 coarse_silt  14.1 
 2 CSP01     4 medium_silt  11.2 
 3 CSP01     4 fine_silt     8.17
 4 CSP01     4 total_silt   33.5 
 5 CSP01    12 coarse_silt  14.1 
 6 CSP01    12 medium_silt  11.7 
 7 CSP01    12 fine_silt     9.03
 8 CSP01    12 total_silt   34.8 
 9 CSP01    35 coarse_silt  10.3 
10 CSP01    35 medium_silt   9.51
# ℹ 446 more rows</code></pre>
</div>
</div>
</div><div class="column fragment" style="width:55%;">
<!-- -->
<h4 id="to-wide">… to wide</h4>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-83_0c09868e8b2e56696a5befd75440c029">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 114 × 6
   plot  depth coarse_silt medium_silt fine_silt total_silt
   &lt;chr&gt; &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;
 1 CSP01     4       14.1        11.2       8.17       33.5
 2 CSP01    12       14.1        11.7       9.03       34.8
 3 CSP01    35       10.3         9.51      7.47       27.3
 4 CSP01    53        9.4         9.1       8.7        27.2
 5 CSP01    83        9.79        8.79      7.29       25.9
 6 CSP01   105       10.8         9.4       8.22       28.4
 7 CSP08    10       16.3         9.55      6.23       32.1
 8 CSP08    27       14.3        10.4       6.1        30.8
 9 CSP08    90       15.1        11.5       7.56       34.2
10 CSP02     5       12.0        18.3      15.2        45.4
# ℹ 104 more rows</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="going-wide-2" class="slide level2">
<h2>Going wide</h2>
<h3 class="spacer" id="pivot_wider-is-from-tidyr"><code>pivot_wider()</code> is from <code>tidyr</code>*</h3>
<p><span class="footnote">* part of the <code>tidyverse</code></span></p>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/pivot_wider_e547f2d46376fc227574e8b677660fef">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1"></a><span class="fu">pivot_wider</span>(data,</span>
<span id="cb102-2"><a href="#cb102-2"></a>            <span class="at">names_from =</span> existing_categorical_column,</span>
<span id="cb102-3"><a href="#cb102-3"></a>            <span class="at">values_from =</span> existing_numerical_column)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="spacer">
<ul>
<li><code>tidyverse</code> functions always start with <code>data</code></li>
<li>Takes columns and converts to wide data</li>
<li>Values in <code>existing_categorical_column</code> become column names</li>
<li>Values in <code>existing_numerical_column</code> become column contents</li>
</ul>
</div>
<p><img data-src="figures/hex_tidyr.png" class="absolute" style="top: 0px; right: 0px; width: 20%; "></p>
<div class="fragment">
<!-- -->
<h3 id="in-our-example-1">In our example:</h3>
<ul>
<li><strong>data</strong> = <code>size</code><br>
</li>
<li><strong>names_from</strong> = <code>type</code><br>
</li>
<li><strong>values_from</strong> = <code>amount</code><br>
</li>
</ul>
</div>
</section>
<section id="going-wide-3" class="slide level2">
<h2>Going wide</h2>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-84_abf7609237786333944f7fda0ba7b87f">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1"></a>size_wide <span class="ot">&lt;-</span> size_long <span class="sc">|&gt;</span></span>
<span id="cb103-2"><a href="#cb103-2"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> type, <span class="at">values_from =</span> amount)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-85_ccb8a6d6cb56414c8deca95d11d350fd">
<div class="cell-output cell-output-stdout">
<div class="sourceCode" id="cb104"><pre class="sourceCode numberSource small number-lines code-with-copy"><code class="sourceCode"><span id="cb104-1"><a href="#cb104-1"></a># A tibble: 114 × 14</span>
<span id="cb104-2"><a href="#cb104-2"></a>   plot  depth habitat   technician date       coarse_sand medium_sand fine_sand coarse_silt medium_silt fine_silt  clay total_sand total_silt</span>
<span id="cb104-3"><a href="#cb104-3"></a>   &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;     &lt;chr&gt;      &lt;date&gt;           &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt; &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;</span>
<span id="cb104-4"><a href="#cb104-4"></a> 1 CSP01     4 forest    Catharine  2009-04-23       13.0        17.4      19.7        14.1        11.2       8.17  16.3       50.1       33.5</span>
<span id="cb104-5"><a href="#cb104-5"></a> 2 CSP01    12 forest    Catharine  2009-04-23       10.7        16.9      19.2        14.1        11.7       9.03  18.4       46.8       34.8</span>
<span id="cb104-6"><a href="#cb104-6"></a> 3 CSP01    35 forest    Catharine  2009-04-23       12.1        17.8      16.1        10.3         9.51      7.47  26.7       46         27.3</span>
<span id="cb104-7"><a href="#cb104-7"></a> 4 CSP01    53 forest    Catharine  2009-04-23       17.6        18.2      14.3         9.4         9.1       8.7   22.7       50.1       27.2</span>
<span id="cb104-8"><a href="#cb104-8"></a> 5 CSP01    83 forest    Catharine  2009-04-23       21.0        18.4      14.3         9.79        8.79      7.29  20.4       53.8       25.9</span>
<span id="cb104-9"><a href="#cb104-9"></a> 6 CSP01   105 forest    Catharine  2009-04-23       19.0        18.4      14.4        10.8         9.4       8.22  19.7       51.9       28.4</span>
<span id="cb104-10"><a href="#cb104-10"></a> 7 CSP08    10 grassland Catharine  2009-03-02       11.6        17.1      20.8        16.3         9.55      6.23  18.4       49.6       32.1</span>
<span id="cb104-11"><a href="#cb104-11"></a> 8 CSP08    27 grassland Catharine  2009-03-02       15.4        16.2      17.8        14.3        10.4       6.1   19.6       49.5       30.8</span>
<span id="cb104-12"><a href="#cb104-12"></a> 9 CSP08    90 grassland Catharine  2009-03-02       14.9        15.8      18.6        15.1        11.5       7.56  16.5       49.2       34.2</span>
<span id="cb104-13"><a href="#cb104-13"></a>10 CSP02     5 forest    Catharine  2009-05-06        8.75        8.64      8.66       12.0        18.3      15.2   28.5       26.0       45.4</span>
<span id="cb104-14"><a href="#cb104-14"></a># ℹ 104 more rows</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="again-why-transpose" class="slide level2">
<h2>Again: Why transpose?</h2>
<h3 id="figures-long-data-are-great-for-graphing">Figures: Long data are great for graphing</h3>
<div class="cell" data-fig.asp="0.35" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-86_19670250fddece2a4e0926cc64d8169c">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1"></a>size_long <span class="ot">&lt;-</span> <span class="fu">pivot_longer</span>(size, <span class="at">cols =</span> <span class="fu">c</span>(<span class="sc">-</span>plot, <span class="sc">-</span>depth, <span class="sc">-</span>technician, <span class="sc">-</span>habitat, <span class="sc">-</span>date),</span>
<span id="cb105-2"><a href="#cb105-2"></a>                          <span class="at">names_to =</span> <span class="st">"type"</span>, <span class="at">values_to =</span> <span class="st">"amount"</span>)</span>
<span id="cb105-3"><a href="#cb105-3"></a></span>
<span id="cb105-4"><a href="#cb105-4"></a><span class="fu">ggplot</span>(<span class="at">data =</span> size_long, <span class="fu">aes</span>(<span class="at">y =</span> depth, <span class="at">x =</span> amount, <span class="at">colour =</span> type)) <span class="sc">+</span></span>
<span id="cb105-5"><a href="#cb105-5"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb105-6"><a href="#cb105-6"></a>  <span class="fu">scale_y_reverse</span>() <span class="sc">+</span></span>
<span id="cb105-7"><a href="#cb105-7"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> type, <span class="at">nrow =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="4_summarizing_and_transforming_files/figure-revealjs/unnamed-chunk-86-1.png" width="2400" class="r-stretch"></section>
<section id="again-why-transpose-1" class="slide level2">
<h2>Again: Why transpose?</h2>
<h3 id="figures-take-it-to-the-next-step">Figures: Take it to the next step</h3>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-87_9a700e7da60ab848ef44e638b90224e9">
<div class="sourceCode cell-code" id="cb106" data-code-line-numbers="7-8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1"></a>size <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/grain_size2.csv"</span>) <span class="sc">|&gt;</span></span>
<span id="cb106-2"><a href="#cb106-2"></a>  <span class="fu">left_join</span>(meta, <span class="at">by =</span> <span class="st">"plot"</span>) <span class="sc">|&gt;</span></span>
<span id="cb106-3"><a href="#cb106-3"></a>  <span class="fu">mutate</span>(<span class="at">total_sand =</span> coarse_sand <span class="sc">+</span> medium_sand <span class="sc">+</span> fine_sand,</span>
<span id="cb106-4"><a href="#cb106-4"></a>         <span class="at">total_silt =</span> coarse_silt <span class="sc">+</span> medium_silt <span class="sc">+</span> fine_silt)</span>
<span id="cb106-5"><a href="#cb106-5"></a></span>
<span id="cb106-6"><a href="#cb106-6"></a>size_long <span class="ot">&lt;-</span> <span class="fu">pivot_longer</span>(size, <span class="at">cols =</span> <span class="fu">c</span>(<span class="sc">-</span>plot, <span class="sc">-</span>depth, <span class="sc">-</span>technician, <span class="sc">-</span>habitat, <span class="sc">-</span>date, <span class="sc">-</span>clay),</span>
<span id="cb106-7"><a href="#cb106-7"></a>                          <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">"size"</span>, <span class="st">"category"</span>), <span class="at">values_to =</span> <span class="st">"amount"</span>,</span>
<span id="cb106-8"><a href="#cb106-8"></a>                          <span class="at">names_sep =</span> <span class="st">"_"</span>) <span class="sc">|&gt;</span></span>
<span id="cb106-9"><a href="#cb106-9"></a>  <span class="fu">mutate</span>(<span class="at">size =</span> <span class="fu">factor</span>(size, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"total"</span>, <span class="st">"coarse"</span>, <span class="st">"medium"</span>, <span class="st">"fine"</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-88_0e8be889342595fe28100936ea26540d">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 912 × 9
   plot  depth  clay habitat technician date       size   category amount
   &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;      &lt;date&gt;     &lt;fct&gt;  &lt;chr&gt;     &lt;dbl&gt;
 1 CSP01     4  16.3 forest  Catharine  2009-04-23 coarse sand      13.0 
 2 CSP01     4  16.3 forest  Catharine  2009-04-23 medium sand      17.4 
 3 CSP01     4  16.3 forest  Catharine  2009-04-23 fine   sand      19.7 
 4 CSP01     4  16.3 forest  Catharine  2009-04-23 coarse silt      14.1 
 5 CSP01     4  16.3 forest  Catharine  2009-04-23 medium silt      11.2 
 6 CSP01     4  16.3 forest  Catharine  2009-04-23 fine   silt       8.17
 7 CSP01     4  16.3 forest  Catharine  2009-04-23 total  sand      50.1 
 8 CSP01     4  16.3 forest  Catharine  2009-04-23 total  silt      33.5 
 9 CSP01    12  18.4 forest  Catharine  2009-04-23 coarse sand      10.7 
10 CSP01    12  18.4 forest  Catharine  2009-04-23 medium sand      16.9 
# ℹ 902 more rows</code></pre>
</div>
</div>
</section>
<section id="again-why-transpose-2" class="slide level2">
<h2>Again: Why transpose?</h2>
<h3 id="figures-take-it-to-the-next-step-1">Figures: Take it to the next step</h3>
<div class="cell" data-fig.asp="0.35" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-89_6cb6879689cc1bff633fba131891ad16">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> size_long, </span>
<span id="cb108-2"><a href="#cb108-2"></a>       <span class="fu">aes</span>(<span class="at">y =</span> depth, <span class="at">x =</span> amount, <span class="at">colour =</span> category)) <span class="sc">+</span></span>
<span id="cb108-3"><a href="#cb108-3"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb108-4"><a href="#cb108-4"></a>  <span class="fu">scale_y_reverse</span>() <span class="sc">+</span></span>
<span id="cb108-5"><a href="#cb108-5"></a>  <span class="fu">facet_grid</span>(category <span class="sc">~</span> size)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="4_summarizing_and_transforming_files/figure-revealjs/unnamed-chunk-89-1.png" width="2400" class="r-stretch"></section>
<section id="again-why-transpose-3" class="slide level2">
<h2>Again: Why transpose?</h2>
<h3 id="anlyses-linear-models-lmy-x-data">Anlyses: Linear models <code>lm(y ~ x, data)</code></h3>
<div class="spacer">
<p>Use <code>pivot_longer()</code> in analysis where grouping variables are important</p>
<ul>
<li>i.e., do amounts of different size classes differ with depth? (need size classes in “type” column)</li>
</ul>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-90_b9285ec9e75d2858823c8adb3b937ef6">
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1"></a><span class="fu">lm</span>(amount <span class="sc">~</span> type <span class="sc">+</span> depth, <span class="at">data =</span> size_long)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="spacer">
<p>Use <code>pivot_wider()</code> in analyses where each variable must be in it’s own column</p>
<ul>
<li>i.e., does the amount of sand differ with depth? (need size classes in separate columns)</li>
</ul>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-91_bba96de0c335ba54cdd7db06e2eeb764">
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1"></a><span class="fu">lm</span>(total_sand <span class="sc">~</span> depth, <span class="at">data =</span> size_wide)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="fragment">
<blockquote>
<p>If you can’t figure out how to plot or analyse your data, they probably need to be transposed</p>
</blockquote>
</div>
</section>
<section id="your-turn-transpose-for-plotting" class="slide level2">
<h2>Your Turn: Transpose for plotting</h2>
<p>Plot the number of Tuberculosis cases (<code>cases</code>) vs.&nbsp;the <code>population</code> in data frame <code>table2</code></p>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-92_bb25516461e27a6f3b3d46139ab84305">
<div class="sourceCode cell-code" id="cb111" data-code-line-numbers="2,4-5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1"></a>temp <span class="ot">&lt;-</span> table2 <span class="sc">|&gt;</span></span>
<span id="cb111-2"><a href="#cb111-2"></a>  ???(???)                    </span>
<span id="cb111-3"><a href="#cb111-3"></a></span>
<span id="cb111-4"><a href="#cb111-4"></a><span class="fu">ggplot</span>(<span class="at">data =</span> temp, ???) <span class="sc">+</span>    </span>
<span id="cb111-5"><a href="#cb111-5"></a>  ???                         </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="your-turn-transpose-for-plotting-1" class="slide level2" data-visibility="visible">
<h2>Your Turn: Transpose for plotting</h2>
<p>Plot the number of Tuberculosis cases (<code>cases</code>) vs.&nbsp;the <code>population</code> in data frame <code>table2</code></p>
<div class="cell" data-layout-align="center" data-fig.asp="0.45" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-93_0fbcbb32860099b728ca3dc23d2d6d34">
<div class="sourceCode cell-code" id="cb112" data-code-line-numbers="2,4-6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1"></a>temp <span class="ot">&lt;-</span> table2 <span class="sc">|&gt;</span></span>
<span id="cb112-2"><a href="#cb112-2"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> <span class="st">"type"</span>, <span class="at">values_from =</span> <span class="st">"count"</span>) </span>
<span id="cb112-3"><a href="#cb112-3"></a></span>
<span id="cb112-4"><a href="#cb112-4"></a><span class="fu">ggplot</span>(<span class="at">data =</span> temp, <span class="fu">aes</span>(<span class="at">x =</span> population, <span class="at">y =</span> cases)) <span class="sc">+</span> </span>
<span id="cb112-5"><a href="#cb112-5"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb112-6"><a href="#cb112-6"></a>  <span class="fu">stat_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="4_summarizing_and_transforming_files/figure-revealjs/unnamed-chunk-93-1.png" width="1400" class="r-stretch quarto-figure-center"></section>
<section id="put-it-all-together-2" class="slide level2">
<h2>Put it all together</h2>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-94_a1d7f5f76b44a51e762573dcc4e37cb8">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1"></a>meta <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/grain_meta.csv"</span>)</span>
<span id="cb113-2"><a href="#cb113-2"></a>size <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/grain_size2.csv"</span>) <span class="sc">|&gt;</span></span>
<span id="cb113-3"><a href="#cb113-3"></a>  <span class="fu">left_join</span>(meta, <span class="at">by =</span> <span class="st">"plot"</span>) <span class="sc">|&gt;</span></span>
<span id="cb113-4"><a href="#cb113-4"></a>  <span class="fu">mutate</span>(<span class="at">total_sand =</span> coarse_sand <span class="sc">+</span> medium_sand <span class="sc">+</span> fine_sand,</span>
<span id="cb113-5"><a href="#cb113-5"></a>         <span class="at">total_silt =</span> coarse_silt <span class="sc">+</span> medium_silt <span class="sc">+</span> fine_silt)</span>
<span id="cb113-6"><a href="#cb113-6"></a></span>
<span id="cb113-7"><a href="#cb113-7"></a>size_sum <span class="ot">&lt;-</span> size <span class="sc">|&gt;</span></span>
<span id="cb113-8"><a href="#cb113-8"></a>  <span class="fu">group_by</span>(plot, habitat) <span class="sc">|&gt;</span></span>
<span id="cb113-9"><a href="#cb113-9"></a>  <span class="fu">summarize</span>(<span class="at">sample_size =</span> <span class="fu">n</span>(),</span>
<span id="cb113-10"><a href="#cb113-10"></a>            <span class="at">total_sand =</span> <span class="fu">sum</span>(total_sand),</span>
<span id="cb113-11"><a href="#cb113-11"></a>            <span class="at">mean_sand =</span> <span class="fu">mean</span>(total_sand),</span>
<span id="cb113-12"><a href="#cb113-12"></a>            <span class="at">sd_sand =</span> <span class="fu">sd</span>(total_sand),</span>
<span id="cb113-13"><a href="#cb113-13"></a>            <span class="at">se_sand =</span> sd_sand <span class="sc">/</span> <span class="fu">sqrt</span>(sample_size),</span>
<span id="cb113-14"><a href="#cb113-14"></a>            <span class="at">total_silt =</span> <span class="fu">sum</span>(total_silt),</span>
<span id="cb113-15"><a href="#cb113-15"></a>            <span class="at">mean_silt =</span> <span class="fu">mean</span>(total_silt),</span>
<span id="cb113-16"><a href="#cb113-16"></a>            <span class="at">sd_silt =</span> <span class="fu">sd</span>(total_silt),</span>
<span id="cb113-17"><a href="#cb113-17"></a>            <span class="at">se_silt =</span> sd_silt <span class="sc">/</span> <span class="fu">sqrt</span>(sample_size))</span>
<span id="cb113-18"><a href="#cb113-18"></a></span>
<span id="cb113-19"><a href="#cb113-19"></a>size_long <span class="ot">&lt;-</span> size <span class="sc">|&gt;</span></span>
<span id="cb113-20"><a href="#cb113-20"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(<span class="sc">-</span>plot, <span class="sc">-</span>depth, <span class="sc">-</span>technician, <span class="sc">-</span>habitat, <span class="sc">-</span>date, <span class="sc">-</span>clay), </span>
<span id="cb113-21"><a href="#cb113-21"></a>               <span class="at">values_to =</span> <span class="st">"amount"</span>, <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">"size"</span>, <span class="st">"category"</span>), <span class="at">names_sep =</span> <span class="st">"_"</span>) <span class="sc">|&gt;</span></span>
<span id="cb113-22"><a href="#cb113-22"></a>  <span class="fu">mutate</span>(<span class="at">size =</span> <span class="fu">factor</span>(size, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"total"</span>, <span class="st">"coarse"</span>, <span class="st">"medium"</span>, <span class="st">"fine"</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="put-it-all-together-3" class="slide level2">
<h2>Put it all together</h2>
<h3 id="save-your-data">Save your data</h3>
<div class="cell" data-hash="4_summarizing_and_transforming_cache/revealjs/unnamed-chunk-95_7ce4286bfc6afbf4d9d2217f0023e9a5">
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1"></a><span class="fu">write_csv</span>(size, <span class="st">"Datasets/size_total.csv"</span>)</span>
<span id="cb114-2"><a href="#cb114-2"></a><span class="fu">write_csv</span>(size_sum, <span class="st">"Datasets/size_summary.csv"</span>)</span>
<span id="cb114-3"><a href="#cb114-3"></a><span class="fu">write_csv</span>(size_long, <span class="st">"Datasets/size_long.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<h3 class="spacer" id="keep-yourself-organized">Keep yourself organized</h3>
<ul>
<li>Keep your R-created data in a <strong>different</strong> folder from your ‘raw’ data</li>
<li>If you have a lot going on, split your work into several scripts, and number the both the scripts AND the data sets produced:</li>
<li><code>1_cleaned.csv</code></li>
<li><code>2_summarized.csv</code></li>
<li><code>3_graphing.csv</code></li>
</ul>
</section>
<section id="wrapping-up-common-mistakes" class="slide level2 space-list">
<h2>Wrapping up: Common mistakes</h2>
<ul>
<li><code>select()</code> doesn’t work
<ul>
<li>You may have the <code>MASS</code> package loaded, it also has a select</li>
<li>make sure you loaded <code>tidyverse</code> or <code>dplyr</code> packages</li>
<li>try using <code>dplyr::select()</code></li>
</ul></li>
<li>I can’t figure out how to <code>pivot_wider()</code> my data in the way I want it
<ul>
<li>Sometimes you need to <code>pivot_longer()</code> before you can widen it</li>
</ul></li>
<li><code>mutate()</code> is giving me weird results
<ul>
<li>Is your data grouped when it shouldn’t be?</li>
<li>Try using <code>ungroup()</code> first</li>
</ul></li>
<li>I get a warning when I join data sets
<ul>
<li>Can be because multiple joins</li>
<li>Can be because mismatched factor levels
<ul>
<li>If the category levels in one data frame do not match the other data frame</li>
<li>They will be transformed to character</li>
<li>If that’s a problem, use <code>as.factor()</code> to turn them back</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="wrapping-up-further-reading" class="slide level2 space-list">
<h2>Wrapping up: Further reading</h2>
<ul>
<li>R for Data Science
<ul>
<li><a href="http://r4ds.had.co.nz/transform.html">Chapter 5: Transforming data</a></li>
<li><a href="http://r4ds.had.co.nz/tidy-data.html">Chapter 12: Tidy data</a></li>
<li><a href="http://r4ds.had.co.nz/relational-data.html">Chapter 13: Relational data</a></li>
</ul></li>
<li><a href="https://www.rstudio.com/wp-content/uploads/2015/02/data-wrangling-cheatsheet.pdf">RStudio Data Manipulation with <code>dplyr</code>, tidyr</a>
<ul>
<li>Or Help &gt; Cheatsheets &gt; Data Manipulation</li>
</ul></li>
</ul>
<div class="footer footer-default">

</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="4_summarizing_and_transforming_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="4_summarizing_and_transforming_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="4_summarizing_and_transforming_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="4_summarizing_and_transforming_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="4_summarizing_and_transforming_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="4_summarizing_and_transforming_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="4_summarizing_and_transforming_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="4_summarizing_and_transforming_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="4_summarizing_and_transforming_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="4_summarizing_and_transforming_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1200,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        target: function(trigger) {
          return trigger.previousElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto-reveal',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>